/**
 * @name            jPulse Framework / Bin / Configuration
 * @tagline         Bump version script configuration for jPulse Framework
 * @description     This is the configuration file for the jPulse Framework Bump Version Script
 * @file            bin/bump-version.conf
 * @version         1.3.11
 * @release         2025-12-08
 * @repository      https://github.com/jpulse-net/jpulse-framework
 * @author          Peter Thoeny, https://twiki.org & https://github.com/peterthoeny/
 * @copyright       2025 Peter Thoeny, https://twiki.org & https://github.com/peterthoeny/
 * @license         BSL 1.1 -- see LICENSE file; for commercial use: team@jpulse.net
 * @genai           10%, Cursor 1.7, Claude Sonnet 4
 */

{
    // Explicit file patterns for each directory of interest
    filePatterns: [
        // Root level files
        'package.json',
        'package-lock.json',
        'README.md',
        'babel.config.cjs',

        // Bin directory
        'bin/*.js',
        'bin/*.sh',
        'bin/*.conf',

        // Docs directory
        'docs/*.md',
        'docs/dev/*.md',
        'docs/plugins/*.md',
        'docs/installed-plugins/*.md',

        // WebApp directory
        'webapp/*.conf',
        'webapp/*.js',
        'webapp/controller/*.js',
        'webapp/model/*.js',
        'webapp/utils/*.js',
        'webapp/translations/*.js',
        'webapp/translations/*.conf',
        'webapp/view/*.css',
        'webapp/view/*.js',
        'webapp/view/*.tmpl',
        'webapp/view/**/*.shtml',
        'webapp/view/**/*.tmpl',

        // Site directory
        'site/webapp/*.conf.tmpl',
        'site/webapp/*.js',
        'site/webapp/controller/*.js',
        'site/webapp/model/*.js',
        'site/webapp/translations/*.conf',
        'site/webapp/view/*.css',
        'site/webapp/view/*.js',
        'site/webapp/view/*.tmpl',
        'site/webapp/view/**/*.css',
        'site/webapp/view/**/*.js',
        'site/webapp/view/**/*.shtml',
        'site/webapp/view/**/*.tmpl',

        // Plugins directory
        'plugins/hello-world/*.json',
        'plugins/hello-world/*.md',
        'plugins/hello-world/docs/*.md',
        'plugins/hello-world/webapp/controller/*.js',
        'plugins/hello-world/webapp/model/*.js',
        'plugins/hello-world/webapp/view/**/*.shtml',
        'plugins/hello-world/webapp/view/*.css',
        'plugins/hello-world/webapp/view/*.js',
        'plugins/hello-world/webapp/view/*.tmpl',

        // Template files
        'templates/README.md',
        'templates/**/*.md',
        'templates/**/*.sh',
        'templates/**/*.js',
        'templates/**/*.cjs',
        'templates/**/*.conf',
        'templates/**/*.tmpl',
        'templates/**/*.shtml',

        // Test files
        'webapp/tests/**/*.js',
        'webapp/tests/**/*.conf',
    ],

    // Specific file update patterns for version/content replacement
    fileUpdateRules: [
        {
            pattern: 'package.json',
            replacements: [
                { from: /"version": "[\d.]+(-[a-z]+\.\d+)?"/,
                  to: (version) => `"version": "${version}"` }
            ]
        },
        {
            pattern: 'package-lock.json',
            replacements: [
                { from: /("name": "\@jpulse-net\/jpulse-framework",\s+"version": ")[\d.]+(-[a-z]+\.\d+)?/g,
                  to: (version, match, p1) => `${p1}${version}`, scope: 'version' }
            ]
        },
        {
            pattern: 'webapp/app.conf',
            replacements: [
                { from: /(version: +['"])[\d.]+(-[a-z]+\.\d+)?/,
                  to: (version, match, p1) => `${p1}${version}`, scope: 'version' },
                { from: /(release: +['"])[\d-]+/,
                  to: (release, match, p1) => `${p1}${release}`, scope: 'release' }
            ]
        },
        {
            pattern: 'README.md',
            replacements: [
                { from: /^(# jPulse .* v)[\d.]+(-[a-z]+\.\d+)?/m,
                  to: (version, match, p1) => `${p1}${version}` }
            ]
        },
        {
            pattern: 'docs/*.md',
            replacements: [
                { from: /^(# jPulse .* v)[\d.]+(-[a-z]+\.\d+)?/m,
                  to: (version, match, p1) => `${p1}${version}` }
            ]
        },
        {
            pattern: 'docs/**/*.md',
            replacements: [
                { from: /^(# jPulse .* v)[\d.]+(-[a-z]+\.\d+)?/m,
                  to: (version, match, p1) => `${p1}${version}` }
            ]
        },
        {
            pattern: 'templates/*.md',
            replacements: [
                { from: /^(# .* jPulse Framework v)[\d.]+(-[a-z]+\.\d+)?/m,
                  to: (version, match, p1) => `${p1}${version}` }
            ]
        },
        {
            pattern: 'templates/**/*.md',
            replacements: [
                { from: /^(# .*jPulse Framework v)[\d.]+(-[a-z]+\.\d+)?/m,
                  to: (version, match, p1) => `${p1}${version}` }
            ]
        },
        {
            pattern: 'webapp/view/home/index.shtml',
            replacements: [
                { from: /(jPulse Framework v)[\d.]+(-[a-z]+\.\d+)?/m,
                  to: (version, match, p1) => `${p1}${version}` },
            ]
        },
        {
            pattern: 'plugins/hello-world/plugin.json',
            replacements: [
                { from: /("version": ")[\d.]+(-[a-z]+\.\d+)?/g,
                  to: (version, match, p1) => `${p1}${version}`, scope: 'version' }
            ]
        },
        {
            pattern: 'plugins/hello-world/README.md',
            replacements: [
                { from: /^(# .* v)[\d.]+(-[a-z]+\.\d+)?/m,
                  to: (version, match, p1) => `${p1}${version}` }
            ]
        },
        {
            pattern: 'plugins/hello-world/docs/README.md',
            replacements: [
                { from: /^(# .* v)[\d.]+(-[a-z]+\.\d+)?/m,
                  to: (version, match, p1) => `${p1}${version}` }
            ]
        }
    ],

    // Header update patterns for source files
    headerUpdatePatterns: {
        version: /([\*#] @version\s+)[\d.]+(-[a-z]+\.\d+)?/, // Captures comment prefix: * @version or # @version
        release: /([\*#] @release\s+)[\d-]+/  // Captures comment prefix: * @release or # @release
    }
}

// EOF bin/bump-version.conf
