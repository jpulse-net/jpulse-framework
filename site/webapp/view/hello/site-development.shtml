<!DOCTYPE html>
<!--
 * @name            jPulse Framework / Site / WebApp / View / Hello / Site Demo
 * @tagline         Comprehensive W-047 Site Development Demo
 * @description     Detailed demonstration of site-specific CSS and JavaScript features
 * @file            site/webapp/view/hello/site-demo.shtml
 * @version         1.6.22
 * @release         2026-02-22
 * @repository      https://github.com/jpulse-net/jpulse-framework
 * @author          Peter Thoeny, https://twiki.org & https://github.com/peterthoeny/
 * @copyright       2025 Peter Thoeny, https://twiki.org & https://github.com/peterthoeny/
 * @license         BSL 1.1 -- see LICENSE file; for commercial use: team@jpulse.net
 * @genai           60%, Cursor 1.7, Claude Sonnet 4
-->
<html {{appConfig.system.htmlAttrs}}>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Site Development Demo - {{app.site.shortName}}</title>
    {{file.include "jpulse-header.tmpl"}}
    <style>
        .local-card-setup-required {
            background: var(--jp-theme-color-warning-bg, #fff3cd);
            border-left: 4px solid var(--jp-theme-color-warning, #ffc107);
            border-top: 1px solid var(--jp-theme-border-light, #e9ecef);
            border-right: 1px solid var(--jp-theme-border-light, #e9ecef);
            border-bottom: 1px solid var(--jp-theme-border-light, #e9ecef);
        }
        .local-card-setup-required h3 {
            margin-top: 0;
            color: var(--jp-theme-color-warning-text, #856404);
        }
        .local-card-setup-required p {
            color: var(--jp-theme-color-warning-text, #856404);
        }
        .local-card-setup-required pre {
            background: var(--jp-theme-bg-primary, #ffffff);
        }
        .local-card-setup-required ul {
            color: var(--jp-theme-color-warning-text, #856404);
            margin-top: 0.5rem;
        }
        .local-card-setup-required ul li {
            margin-top: 0.5rem;
        }
        .local-card-setup-required code {
            font-size: 0.9em;
        }
        #buttonFeedback {
            margin-top: 15px;
            padding: 10px;
            background: var(--jp-theme-bg-secondary, #f8f9fa);
            border-radius: 4px;
            min-height: 20px;
            font-style: italic;
            color: var(--jp-theme-text-secondary, #666);
            border: 1px solid var(--jp-theme-border-light, #e9ecef);
        }
        #utilityDemo {
            background: var(--jp-theme-bg-secondary, #f5f5f5);
            padding: 15px;
            border-radius: 4px;
            font-family: monospace;
            color: var(--jp-theme-text-primary, #333);
            border: 1px solid var(--jp-theme-border-light, #e9ecef);
        }
        #analyticsDemo {
            background: var(--jp-theme-bg-secondary, #f8f9fa);
            padding: 15px;
            border-radius: 4px;
            color: var(--jp-theme-text-primary, #333);
            border: 1px solid var(--jp-theme-border-light, #e9ecef);
        }
        .site-accordion-header {
            background: var(--jp-theme-bg-tertiary, #f0f0f0);
            padding: 10px;
            cursor: pointer;
            border-radius: 4px;
            margin-bottom: 5px;
            color: var(--jp-theme-text-primary, #333);
            border: 1px solid var(--jp-theme-border-light, #e9ecef);
        }
        .site-accordion-content {
            display: none;
            padding: 10px;
            background: var(--jp-theme-bg-secondary, #f9f9f9);
            border-radius: 4px;
            color: var(--jp-theme-text-primary, #333);
            border: 1px solid var(--jp-theme-border-light, #e9ecef);
        }
        #eventTrackingDemo {
            background: var(--jp-theme-bg-secondary, #f8f9fa);
            padding: 15px;
            border-radius: 4px;
            color: var(--jp-theme-text-primary, #333);
            border: 1px solid var(--jp-theme-border-light, #e9ecef);
        }
        .local-file-structure pre {
            line-height: 1;
            font-size: 0.9em;
            background-color: var(--jp-theme-bg-primary, #ffffff);
            border: 1px solid var(--jp-theme-border-light, #e9ecef);
        }
    </style>
</head>
<body>
    <div class="jp-main">
        {{#component "helloCards.siteDevelopment" order=20}}
            {{!-- This card is automatically included in the dashboard at hello/index.shtml --}}
            <a href="/hello/site-development.shtml" class="jp-card-dashboard jp-icon-btn">
                <div class="jp-icon-container">{{components.jpIcons.trafficConeSvg size="64"}}</div>
                <h3 class="jp-card-title">Site Development</h3>
                <p class="jp-card-description">Learn how to develop a site using the jPulse Framework</p>
            </a>
        {{/component}}

        <div class="jp-page-header">
            <h1>{{components.jpIcons.trafficConeSvg size="26"}} Site Development</h1>
        </div>
        <div class="jp-info-box">
            <h2>Comprehensive Site Customization Showcase</h2>
            <p>This page demonstrates all aspects of site-specific development in the jPulse Framework.</p>
        </div>

        <!-- Setup Required Card -->
        <div class="jp-card local-card-setup-required jp-hidden" id="setupRequiredCard">
            <h3>‚ö†Ô∏è Setup Required</h3>
            <p><strong>To see the demos below, first create the site CSS and JavaScript files:</strong></p>
            <pre><code class="language-bash">cp site/webapp/view/jpulse-common.css.tmpl site/webapp/view/jpulse-common.css
cp site/webapp/view/jpulse-common.js.tmpl site/webapp/view/jpulse-common.js</code></pre>
            <p>
                <strong>What these files do:</strong>
            </p>
            <ul>
                <li><strong>CSS file</strong> - Required for Section 1 (site-* styles: feature cards, buttons, etc.)</li>
                <li><strong>JS file</strong> - Required for Section 2 (utility functions, analytics) and Section 3 (interactive components)</li>
            </ul>
            <p>
                Restart the jPulse application, after which these files are automatically loaded (W-098 append mode).
                See <a href="/jpulse-docs/site-customization" target="_blank">Site Customization Guide</a> for details.
            </p>
        </div>

        <!-- Section 1: CSS Styling Demo -->
        <div class="jp-card">
            <h3>üé® Section 1: Site-Specific CSS Styling</h3>
            <p>These components use <code>site-*</code> prefixed CSS classes from <code>jpulse-common.css</code>:</p>

            <div class="site-feature-grid">
                <div class="site-feature-card">
                    <div class="site-feature-icon">üéØ</div>
                    <h4 class="site-feature-title">Custom Styling</h4>
                    <p class="site-feature-description">Site-specific CSS with clear naming convention</p>
                </div>
                <div class="site-feature-card">
                    <div class="site-feature-icon">üé®</div>
                    <h4 class="site-feature-title">Theme Variables</h4>
                    <p class="site-feature-description">CSS custom properties for consistent theming</p>
                </div>
                <div class="site-feature-card">
                    <div class="site-feature-icon">üì±</div>
                    <h4 class="site-feature-title">Responsive Design</h4>
                    <p class="site-feature-description">Mobile-first responsive patterns</p>
                </div>
            </div>

            <h4>Site Button Styles:</h4>
            <div class="jp-flex jp-gap-10 jp-flex-wrap">
                <button id="primaryBtn" class="site-btn site-btn-primary">Primary Button</button>
                <button id="secondaryBtn" class="site-btn site-btn-secondary">Secondary Button</button>
                <button id="outlineBtn" class="site-btn site-btn-outline">Outline Button</button>
            </div>
            <div id="buttonFeedback" class="jp-output">
                Click any button above to see the interaction feedback...
            </div>
        </div>

        <!-- Section 2: JavaScript Extensions Demo -->
        <div class="jp-card">
            <h3>‚ö° Section 2: JavaScript Extensions</h3>
            <p>Site-specific JavaScript extends the jPulse framework:</p>

            <h4>Utility Functions Demo:</h4>
            <div id="utilityDemo">
                <div>Currency: <span id="currencyDemo">Loading...</span></div>
                <div>Date: <span id="dateDemo">Loading...</span></div>
                <div>Unique ID: <span id="idDemo">Loading...</span></div>
            </div>

            <h4>Analytics Integration:</h4>
            <div id="analyticsDemo">
                <p><strong>Analytics Ready:</strong> Site JavaScript includes analytics tracking system</p>
                <p><code>jPulse.site.analytics.track('event_name', data)</code></p>
                <p>Automatic event tracking via data attributes (see Section 3)</p>
            </div>
        </div>

        <!-- Section 3: Interactive Components -->
        <div class="jp-card">
            <h3>üîß Section 3: Interactive Components</h3>
            <p>Site-specific components with data attributes:</p>

            <h4>Site-Specific Components:</h4>
            <p>This demonstrates site-specific functionality that extends the jPulse Framework.</p>

            <h4>Accordion Component:</h4>
            <div data-site-component="accordion">
                <div data-accordion-header class="site-accordion-header">
                    üìã Click to expand site accordion
                </div>
                <div class="site-accordion-content">
                    <p>This accordion is powered by site-specific JavaScript from <code>jpulse-common.js</code>.</p>
                    <p>It demonstrates auto-initialization using data attributes and clean component architecture.</p>
                </div>
            </div>

            <h4>Event Tracking:</h4>
            <div id="eventTrackingDemo">
                <p><strong>Automatic Tracking:</strong> Elements with <code>data-site-track</code> attribute automatically track interactions</p>
                <p><strong>Example:</strong> <code>&lt;button data-site-track="demo_click"&gt;Track Me&lt;/button&gt;</code></p>
                <p>Events are logged to console and can integrate with analytics services</p>
            </div>
        </div>

        <!-- Section 4: Development Information -->
        <div class="jp-card">
            <h3>üìñ Section 4: Development Guide</h3>
            <p>Key concepts for site-specific development:</p>

            <div class="jp-info-box local-file-structure">
                <h4>File Structure:</h4>
                <pre><code class="language-bash">site/webapp/view/
‚îú‚îÄ‚îÄ jpulse-common.css      # Site-specific styles
‚îú‚îÄ‚îÄ jpulse-common.js       # Site-specific JavaScript
‚îú‚îÄ‚îÄ jpulse-common.css.tmpl # CSS template
‚îî‚îÄ‚îÄ jpulse-common.js.tmpl  # JavaScript template</code></pre>
            </div>

            <h4>CSS Naming Convention:</h4>
            <ul>
                <li><code>site-*</code> prefix for all site-specific classes</li>
                <li>Clear source identification (when you see <code>site-header</code>, you know it's in <code>jpulse-common.css</code>)</li>
                <li>No conflicts with framework <code>jp-*</code> classes</li>
            </ul>

            <h4>JavaScript Extension Pattern:</h4>
            <ul>
                <li>Extends <code>window.jPulse</code> object with <code>jPulse.site</code> namespace</li>
                <li>Auto-initialization on DOM ready</li>
                <li>Component system using data attributes</li>
                <li>Utility functions and analytics integration</li>
            </ul>
        </div>

        <!-- Navigation -->
        <div class="jp-btn-nav-group">
            <a href="/" class="jp-btn jp-btn-outline">üè† Home</a>
            <span class="jp-btn-nav-arrow">‚Üí</span>
            <a href="/hello/" class="jp-btn jp-btn-active">üåê Hello World Site Demos</a>
            <span class="jp-btn-nav-arrow">&nbsp;</span>
            <a href="/jpulse-docs/" class="jp-btn jp-btn-outline" target="_blank">üìñ Documentation</a>
        </div>

        <script>
            jPulse.dom.ready(() => {
                // Wait for site JavaScript to load
                setTimeout(() => {
                    const cssLoaded = getComputedStyle(document.querySelector('.site-feature-card') || document.body).borderRadius !== '0px';
                    if (cssLoaded && typeof jPulse.site !== 'undefined') {
                        // Populate utility function demos
                        document.getElementById('currencyDemo').textContent = jPulse.site.utils.formatCurrency(1234.56);
                        document.getElementById('dateDemo').textContent = jPulse.site.utils.formatDate(new Date());
                        document.getElementById('idDemo').textContent = jPulse.site.utils.generateId('demo');

                        // Set up button feedback demo
                        const buttonFeedback = document.getElementById('buttonFeedback');
                        const setFeedbackStyle = (variant) => {
                            buttonFeedback.classList.remove('jp-output-info', 'jp-output-success', 'jp-output-warning');
                            if (variant) {
                                buttonFeedback.classList.add(variant);
                            }
                        };

                        document.getElementById('primaryBtn').addEventListener('click', () => {
                            buttonFeedback.innerHTML = 'üéØ <strong>Primary button pressed!</strong> - Site-specific styling with hover effects';
                            setFeedbackStyle('jp-output-info');
                        });

                        document.getElementById('secondaryBtn').addEventListener('click', () => {
                            buttonFeedback.innerHTML = '‚ö° <strong>Secondary button pressed!</strong> - Alternative site button style';
                            setFeedbackStyle('jp-output-info');
                        });

                        document.getElementById('outlineBtn').addEventListener('click', () => {
                            buttonFeedback.innerHTML = 'üìã <strong>Outline button pressed!</strong> - Transparent background with border';
                            setFeedbackStyle('jp-output-success');
                        });

                        // Log that site demo is ready
                        console.log('‚úÖ Site demo ready - analytics system available:', typeof jPulse.site.analytics);

                        console.log('‚úÖ Site demo page initialized with jPulse.site extensions');
                    } else {
                        // Fallback if site JavaScript isn't loaded
                        const setupCard = document.getElementById('setupRequiredCard');
                        setupCard.classList.remove('jp-hidden');
                        console.warn('‚ö†Ô∏è Site JavaScript not loaded - demo functionality limited');
                        document.getElementById('currencyDemo').textContent = 'Site JS not loaded';
                        document.getElementById('dateDemo').textContent = 'Site JS not loaded';
                        document.getElementById('idDemo').textContent = 'Site JS not loaded';
                    }
                }, 100);
            });
        </script>
    </div>

    {{file.include "jpulse-footer.tmpl"}}
</body>
</html>
<!--
SVG icons from https://lucide.dev/icons/
  - ISC License
  - Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT).
    All other copyright (c) for Lucide are held by Lucide Contributors 2025.
-->

<!-- EOF site/webapp/view/hello/site-demo.shtml -->
