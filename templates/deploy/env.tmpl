##
 # @name            jPulse Framework / Deploy / Environment Variables
 # @tagline         jPulse Framework Environment Variables
 # @description     See deploy/README.md
 # @site            %SITE_NAME%
 # @generated       %GENERATION_DATE%
 # @file            templates/deploy/env.tmpl
 # @version         1.6.1
 # @release         2026-01-28
 # @repository      https://github.com/jpulse-net/jpulse-framework
 # @author          Peter Thoeny, https://twiki.org & https://github.com/peterthoeny/
 # @copyright       2025 Peter Thoeny, https://twiki.org & https://github.com/peterthoeny/
 # @license         BSL 1.1 -- see LICENSE file; for commercial use: team@jpulse.net
 # @genai           60%, Cursor 1.7, Claude Sonnet 4
##

# Site Configuration
export SITE_NAME=%SITE_NAME%
export SITE_SHORT_NAME=%SITE_SHORT_NAME%

# Application Configuration
export NODE_ENV=%NODE_ENV%
export PORT=%PORT%

# Database Configuration
# IMPORTANT: Passwords with special characters (like ! $ ` \) are automatically
# wrapped in single quotes to prevent shell interpretation. When entering passwords
# during setup, avoid using bash history expansion (!) to prevent issues.
export DB_NAME=%DB_NAME%
export DB_USER=%DB_USER%
export DB_PASS='%DB_PASS%'

# Database Admin Configuration (for setup scripts)
export DB_ADMIN_USER=%DB_ADMIN_USER%
export DB_ADMIN_PASS='%DB_ADMIN_PASS%'

# Redis Configuration
# Required for multi-instance/multi-server deployments
# Mode: 'single' for one Redis server, 'cluster' for Redis Cluster
export REDIS_MODE=%REDIS_MODE%
export REDIS_HOST=%REDIS_HOST%
export REDIS_PORT=%REDIS_PORT%
export REDIS_PASSWORD=%REDIS_PASSWORD%
export REDIS_CLUSTER_NODES='%REDIS_CLUSTER_NODES%'

# Security Configuration
export SESSION_SECRET=%SESSION_SECRET%

# Site Configuration
export JPULSE_DEPLOYMENT_TYPE=%JPULSE_DEPLOYMENT_TYPE%
export JPULSE_SITE_ID=%JPULSE_SITE_ID%
export JPULSE_SITE_UUID=%JPULSE_SITE_UUID%
export JPULSE_DOMAIN_NAME=%JPULSE_DOMAIN_NAME%

# License & Compliance (W-137)
# JPULSE_LICENSE_ACCEPTANCE: Set to 'true' if license terms were accepted during setup
# JPULSE_ADMIN_EMAIL_OPT_IN: Set to 'true' if admin opted in to share email for dashboard access
export JPULSE_LICENSE_ACCEPTANCE=%JPULSE_LICENSE_ACCEPTANCE%
export JPULSE_ADMIN_EMAIL_OPT_IN=%JPULSE_ADMIN_EMAIL_OPT_IN%

# SSL Configuration
# Choose 'letsencrypt' for automatic certificates or 'custom' for your own
export JPULSE_SSL_TYPE=%JPULSE_SSL_TYPE%

# PM2 Configuration
# Number of PM2 instances: 'max' for auto-detect or specific number
export JPULSE_PM2_INSTANCES=%JPULSE_PM2_INSTANCES%

# Framework Version Tracking (automatically managed)
export JPULSE_FRAMEWORK_VERSION=%JPULSE_FRAMEWORK_VERSION%

# Custom SSL Certificates (only if JPULSE_SSL_TYPE=custom)
# Leave empty if using Let's Encrypt automatic certificates
export SSL_CERT_PATH=%SSL_CERT_PATH%
export SSL_KEY_PATH=%SSL_KEY_PATH%

# Logging Configuration
# LOG_DIR: Empty for STDOUT logging, or set path for file logging (e.g., /var/log/jpulse)
# LOG_FILE_NAME: Application log file name (used when LOG_DIR is set)
# ERROR_FILE_NAME: PM2 error log file name (used when LOG_DIR is set)
# PM2_LOG_FILE: Calculated PM2 log file path (resolved at setup time)
# PM2_ERROR_FILE: Calculated PM2 error file path (resolved at setup time)
export LOG_DIR=%LOG_DIR%
export LOG_FILE_NAME=%LOG_FILE_NAME%
export ERROR_FILE_NAME=%ERROR_FILE_NAME%
export PM2_LOG_FILE=%PM2_LOG_FILE%
export PM2_ERROR_FILE=%PM2_ERROR_FILE%

# Remote MongoDB Configuration (optional)
# Leave empty to use local MongoDB instance
export DB_HOST=%DB_HOST%
export DB_PORT=%DB_PORT%
export DB_REPLICA_SET=%DB_REPLICA_SET%
