<!DOCTYPE html>
<!--
 * @name            jPulse Framework / WebApp / View / jPulse Examples / Handlebars
 * @tagline         Comprehensive Handlebars templating examples
 * @description     Interactive examples and source code for Handlebars templating in jPulse
 * @file            webapp/view/jpulse-examples/handlebars.shtml
 * @version         1.4.15
 * @release         2026-01-15
 * @repository      https://github.com/jpulse-net/jpulse-framework
 * @author          Peter Thoeny, https://twiki.org & https://github.com/peterthoeny/
 * @copyright       2025 Peter Thoeny, https://twiki.org & https://github.com/peterthoeny/
 * @license         BSL 1.1 -- see LICENSE file; for commercial use: team@jpulse.net
 * @genai           60%, Cursor 2.2, Claude Sonnet 4.5
-->
<html {{appConfig.system.htmlAttrs}}>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handlebars Examples - {{app.jPulse.shortName}}</title>
    {{file.include "jpulse-header.tmpl"}}
    <style>
        .local-heading-2 {
            margin-top: 2rem;
        }
        .local-form-textarea {
            width: 100%;
            height: 12rem;
        }
        .local-handlebar-result {
            margin-top: 0.7rem;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-size: 0.85em;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            background: var(--jp-theme-bg-secondary, #f8f9fa);
            color: var(--jp-theme-text-primary, #333);
            border: 1px solid var(--jp-theme-border-light, #e9ecef);
        }

        .local-handlebar-result-success {
            background: var(--jp-theme-color-success-bg, #d4edda);
            color: var(--jp-theme-color-success-text, #155724);
            border-color: var(--jp-theme-color-success, #28a745);
        }

        .local-handlebar-result-error {
            background: var(--jp-theme-color-danger-bg, #f8d7da);
            color: var(--jp-theme-color-danger-text, #721c24);
            border-color: var(--jp-theme-color-danger, #dc3545);
        }
    </style>
</head>
<body>
    {{#component "exampleCards.handlebars" order=20}}
        {{!-- This card is automatically included in the dashboard at jpulse-examples/index.shtml --}}
        <a href="/jpulse-examples/handlebars.shtml" class="jp-card-dashboard jp-icon-btn">
            <div class="jp-icon-container">{{components.jpIcons.handlebarsSvg size="64"}}</div>
            <h3 class="jp-card-title">Handlebars Templates</h3>
            <p class="jp-card-description">Learn server-side templating with variables, conditionals, loops, and nested templates.</p>
        </a>
    {{/component}}

    <div class="jp-main">
        <!-- Navigation Tabs -->
        <div id="jpulse-docs-examples-tabs" class="jp-tabs"></div>
        <div id="jpulse-examples-sub-tabs" class="jp-tabs"></div>

        <h1 class="jp-title">{{components.jpIcons.handlebarsSvg size="26"}} Handlebars Examples</h1>

        <div class="jp-info-box">
            <p>jPulse uses Handlebars for server-side templating. These examples show you how to use variables, conditionals, loops, and advanced features.</p>
            <p><strong>üìñ Documentation:</strong> <a href="/jpulse-docs/handlebars">Complete Handlebars Guide</a> - Comprehensive documentation with syntax reference and best practices.</p>
        </div>

        <!-- Interactive Handlebar Form -->
        <h2 class="local-heading-2">1. Interactive Form &bullet; Try Handlebars</h2>
        <!-- Tab interface for form/source -->
        <div id="interactive-tabs" class="jp-tabs"></div>
        <div id="interactive-example-panel" class="jp-panel">
            <div class="jp-info-box">
                Enter some text with handlebars, and press the button to see the result.
            </div>
            <textarea id="handlebarTextarea" class="jp-form-textarea local-form-textarea">App Name &amp; version: &#123;&#123;app.site.name&#125;&#125; v&#123;&#123;app.site.version&#125;&#125;</textarea>
            <button id="handlebarButton" class="jp-btn jp-btn-primary">Expand Handlebars</button>
            <div id="handlebarResult" class="local-handlebar-result">
                (Text with expanded handlebars will show up here)
            </div>
        </div>
        <div id="interactive-source-panel" class="jp-panel">
            <div class="jp-source-code" data-lang="html">
&lt;textarea id="handlebarTextarea"&gt;App Name &amp; version: &#123;&#123;app.site.name&#125;&#125; v&#123;&#123;app.site.version&#125;&#125;&lt;/textarea&gt;
&lt;button id="handlebarButton"&gt;Expand Handlebars&lt;/button&gt;
&lt;div id="handlebarResult"&gt;&lt;/div&gt;

&lt;script&gt;
document.getElementById('handlebarButton').addEventListener('click', async () => {
    const text = document.getElementById('handlebarTextarea').value;
    const response = await jPulse.api.post('/api/1/handlebar/expand', { text });
    if (response.success) {
        document.getElementById('handlebarResult').textContent = response.text;
    } else {
        jPulse.UI.toast.error('Error: ' + response.error);
    }
});
&lt;/script&gt;
            </div>
        </div>

        <!-- Basic Variables Example -->
        <h2 class="local-heading-2">2. Basic Variables</h2>
        <!-- Tab interface for example/source -->
        <div id="variables-tabs" class="jp-tabs"></div>
        <div id="variables-example-panel" class="jp-panel">
            {{#unless user.isAuthenticated}}
            <div class="jp-info-box">
                <p><em>üí° Tip: <a href="/auth/login.shtml">Log in</a> to see your user information in the example below.</em></p>
            </div>
            {{/unless}}
            <div class="jp-info-box">
                <ul>
                    <li><strong>App Name:</strong> {{app.site.name}}</li>
                    <li><strong>Version:</strong> {{app.site.version}}</li>
                    <li><strong>Current User:</strong> {{#if user.isAuthenticated}}{{user.firstName}} {{user.lastName}}{{else}}Guest{{/if}}</li>
                    <li><strong>Current URL:</strong> {{url.domain}}{{url.pathname}}</li>
                    <li><strong>Admin Email:</strong> {{siteConfig.email.adminEmail}}</li>
                </ul>
            </div>
        </div>
        <div id="variables-source-panel" class="jp-panel">
            <div class="jp-source-code" data-lang="html">
&lt;ul&gt;
    &lt;li&gt;&lt;strong&gt;App Name:&lt;/strong&gt; &#123;&#123;app.site.name&#125;&#125;&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;Version:&lt;/strong&gt; &#123;&#123;app.site.version&#125;&#125;&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;Current User:&lt;/strong&gt; &#123;&#123;#if user.isAuthenticated&#125;&#125;&#123;&#123;user.firstName&#125;&#125; &#123;&#123;user.lastName&#125;&#125;&#123;&#123;else&#125;&#125;Guest&#123;&#123;/if&#125;&#125;&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;Current URL:&lt;/strong&gt; &#123;&#123;url.domain&#125;&#125;&#123;&#123;url.pathname&#125;&#125;&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;Admin Email:&lt;/strong&gt; &#123;&#123;siteConfig.email.adminEmail&#125;&#125;&lt;/li&gt;
&lt;/ul&gt;
            </div>
        </div>

        <!-- Context Variables -->
        <h2 class="local-heading-2">3. Context Variables</h2>
        <p>jPulse provides these context variables in all templates:</p>

        <div class="jp-card-grid">
            <div class="jp-info-box">
                <h4>3.1 App Context</h4>
                <table class="jp-table">
                    <tr>
                        <th>Variable</th>
                        <th>Handlebar</th>
                        <th>Expanded</th>
                    </tr>
                    <tr>
                        <td>Application name</td>
                        <td><code>&#123;&#123;app.site.name&#125;&#125;</code></td>
                        <td><code>{{app.site.name}}</code></td>
                    </tr>
                    <tr>
                        <td>Current application version</td>
                        <td><code>&#123;&#123;app.site.version&#125;&#125;</code></td>
                        <td><code>{{app.site.version}}</code></td>
                    </tr>
                    <tr>
                        <td>Current application release</td>
                        <td><code>&#123;&#123;app.site.release&#125;&#125;</code></td>
                        <td><code>{{app.site.release}}</code></td>
                    </tr>
                </table>
            </div>

            <div class="jp-info-box">
                <h4>3.2 User Context</h4>
                <table class="jp-table">
                    <tr>
                        <th>Variable</th>
                        <th>Handlebar</th>
                        <th>Expanded</th>
                    </tr>
                    <tr>
                        <td>Login status</td>
                        <td><code>&#123;&#123;user.isAuthenticated&#125;&#125;</code></td>
                        <td><code>{{user.isAuthenticated}}</code></td>
                    </tr>
                    <tr>
                        <td>First name</td>
                        <td><code>&#123;&#123;user.firstName&#125;&#125;</code></td>
                        <td><code>{{user.firstName}}</code></td>
                    </tr>
                    <tr>
                        <td>Last name</td>
                        <td><code>&#123;&#123;user.lastName&#125;&#125;</code></td>
                        <td><code>{{user.lastName}}</code></td>
                    </tr>
                    <tr>
                        <td>Email address</td>
                        <td><code>&#123;&#123;user.email&#125;&#125;</code></td>
                        <td><code>{{user.email}}</code></td>
                    </tr>
                    <tr>
                        <td>User roles</td>
                        <td><code>&#123;&#123;user.roles&#125;&#125;</code></td>
                        <td><code>{{user.roles}}</code></td>
                    </tr>
                    <tr>
                        <td>Admin status</td>
                        <td><code>&#123;&#123;user.isAdmin&#125;&#125;</code></td>
                        <td><code>{{user.isAdmin}}</code></td>
                    </tr>
                    <tr>
                        <td>User initials</td>
                        <td><code>&#123;&#123;user.initials&#125;&#125;</code></td>
                        <td><code>{{user.initials}}</code></td>
                    </tr>
                </table>
            </div>

            <div class="jp-info-box">
                <h4>3.3 URL Context</h4>
                <table class="jp-table">
                    <tr>
                        <th>Variable</th>
                        <th>Handlebar</th>
                        <th>Expanded</th>
                    </tr>
                    <tr>
                        <td>HTTP/HTTPS</td>
                        <td><code>&#123;&#123;url.protocol&#125;&#125;</code></td>
                        <td><code>{{url.protocol}}</code></td>
                    </tr>
                    <tr>
                        <td>Domain name</td>
                        <td><code>&#123;&#123;url.hostname&#125;&#125;</code></td>
                        <td><code>{{url.hostname}}</code></td>
                    </tr>
                    <tr>
                        <td>Port number</td>
                        <td><code>&#123;&#123;url.port&#125;&#125;</code></td>
                        <td><code>{{url.port}}</code></td>
                    </tr>
                    <tr>
                        <td>URL path</td>
                        <td><code>&#123;&#123;url.pathname&#125;&#125;</code></td>
                        <td><code>{{url.pathname}}</code></td>
                    </tr>
                    <tr>
                        <td>Query string</td>
                        <td><code>&#123;&#123;url.search&#125;&#125;</code></td>
                        <td><code>{{url.search}}</code></td>
                    </tr>
                    <tr>
                        <td>Full domain</td>
                        <td><code>&#123;&#123;url.domain&#125;&#125;</code></td>
                        <td><code>{{url.domain}}</code></td>
                    </tr>
                    <tr>
                        <td>Query parameters</td>
                        <td><code>&#123;&#123;url.param.name&#125;&#125;</code></td>
                        <td><code>{{url.param.name}}</code></td>
                    </tr>
                </table>
            </div>

            <div class="jp-info-box">
                <h4>3.4 Configuration</h4>
                <table class="jp-table">
                    <tr>
                        <th>Variable</th>
                        <th>Handlebar</th>
                        <th>Expanded</th>
                    </tr>
                    <tr>
                        <td>Admin email</td>
                        <td><code>&#123;&#123;siteConfig.email.adminEmail&#125;&#125;</code></td>
                        <td><code>{{siteConfig.email.adminEmail}}</code></td>
                    </tr>
                    <tr>
                        <td>Feature flags</td>
                        <td><code>&#123;&#123;siteConfig.features.*&#125;&#125;</code></td>
                        <td><code>{{siteConfig.features.*}}</code></td>
                    </tr>
                </table>
            </div>

            <div class="jp-info-box">
                <h4>3.5 Internationalization</h4>
                <table class="jp-table">
                    <tr>
                        <th>Variable</th>
                        <th>Handlebar</th>
                        <th>Expanded</th>
                    </tr>
                    <tr>
                        <td>Home page messages</td>
                        <td><code>&#123;&#123;i18n.view.home.*&#125;&#125;</code></td>
                        <td><code>&#123;&#123;i18n.view.home.*&#125;&#125;</code> <em>(example pattern)</em></td>
                    </tr>
                    <tr>
                        <td>Example Introduction message</td>
                        <td><code>&#123;&#123;i18n.view.home.introduction&#125;&#125;</code></td>
                        <td><code>{{i18n.view.home.introduction}}</code></td>
                    </tr>
                    <tr>
                        <td>Auth messages</td>
                        <td><code>&#123;&#123;i18n.view.auth.*&#125;&#125;</code></td>
                        <td><code>&#123;&#123;i18n.view.auth.*&#125;&#125;</code> <em>(example pattern)</em></td>
                    </tr>
                    <tr>
                        <td>Common messages</td>
                        <td><code>&#123;&#123;i18n.common.*&#125;&#125;</code></td>
                        <td><code>&#123;&#123;i18n.common.*&#125;&#125;</code> <em>(example pattern)</em></td>
                    </tr>
                </table>
            </div>

            <div class="jp-info-box">
                <h4>3.6 File Operations</h4>
                <table class="jp-table">
                    <tr>
                        <th>Variable</th>
                        <th>Handlebar</th>
                        <th>Expanded</th>
                    </tr>
                    <tr>
                        <td>Include template</td>
                        <td><code>&#123;&#123;file.include "template.tmpl"&#125;&#125;</code></td>
                        <td><code>&#123;&#123;file.include "template.tmpl"&#125;&#125;</code> <em>(example - file must exist)</em></td>
                    </tr>
                    <tr>
                        <td>File timestamp</td>
                        <td><code>&#123;&#123;file.timestamp "jpulse-header.tmpl"&#125;&#125;</code></td>
                        <td><code>{{file.timestamp "jpulse-header.tmpl"}}</code></td>
                    </tr>
                    <tr>
                        <td>File exists</td>
                        <td><code>&#123;&#123;file.exists "jpulse-footer.tmpl"&#125;&#125;</code></td>
                        <td><code>{{file.exists "jpulse-footer.tmpl"}}</code></td>
                    </tr>
                </table>
            </div>

            <div class="jp-info-box">
                <h4>3.7 Logical and Comparison Helpers (v1.3.15+)</h4>
                <table class="jp-table">
                    <tr>
                        <th>Helper</th>
                        <th>Handlebar</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td>Logical AND</td>
                        <td><code>&#123;&#123;and cond1 cond2&#125;&#125;</code></td>
                        <td>Returns "true" if all conditions are truthy</td>
                    </tr>
                    <tr>
                        <td>Logical OR</td>
                        <td><code>&#123;&#123;or cond1 cond2&#125;&#125;</code></td>
                        <td>Returns "true" if any condition is truthy</td>
                    </tr>
                    <tr>
                        <td>Logical NOT</td>
                        <td><code>&#123;&#123;not cond&#125;&#125;</code></td>
                        <td>Returns "true" if condition is falsy</td>
                    </tr>
                    <tr>
                        <td>Equal</td>
                        <td><code>&#123;&#123;eq a b&#125;&#125;</code></td>
                        <td>Returns "true" if values are equal (type coercion)</td>
                    </tr>
                    <tr>
                        <td>Not equal</td>
                        <td><code>&#123;&#123;ne a b&#125;&#125;</code></td>
                        <td>Returns "true" if values are not equal (type coercion)</td>
                    </tr>
                    <tr>
                        <td>Greater than</td>
                        <td><code>&#123;&#123;gt a b&#125;&#125;</code></td>
                        <td>Returns "true" if a > b (type coercion)</td>
                    </tr>
                    <tr>
                        <td>Greater or equal</td>
                        <td><code>&#123;&#123;gte a b&#125;&#125;</code></td>
                        <td>Returns "true" if a >= b (type coercion)</td>
                    </tr>
                    <tr>
                        <td>Less than</td>
                        <td><code>&#123;&#123;lt a b&#125;&#125;</code></td>
                        <td>Returns "true" if a < b (type coercion)</td>
                    </tr>
                    <tr>
                        <td>Less or equal</td>
                        <td><code>&#123;&#123;lte a b&#125;&#125;</code></td>
                        <td>Returns "true" if a <= b (type coercion)</td>
                    </tr>
                    <tr>
                        <td>Subexpressions</td>
                        <td><code>&#123;&#123;#if (and cond1 cond2)&#125;&#125;...&#123;&#123;/if&#125;&#125;</code></td>
                        <td>Use in {{#if}}, {{#unless}}, and block helpers</td>
                    </tr>
                    <tr>
                        <td>Block helpers</td>
                        <td><code>&#123;&#123;#and cond1 cond2&#125;&#125;...&#123;&#123;else&#125;&#125;...&#123;&#123;/and&#125;&#125;</code></td>
                        <td>All helpers support {{else}} blocks</td>
                    </tr>
                </table>
            </div>

            <div class="jp-warning-box">
                <h4>3.8 Custom Variables</h4>
                <table class="jp-table">
                    <tr>
                        <th>Variable</th>
                        <th>Handlebar</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td>Define variable</td>
                        <td><code>&#123;&#123;let myVar="value"&#125;&#125;</code></td>
                        <td>Sets custom variable in vars namespace</td>
                    </tr>
                    <tr>
                        <td>Access variable</td>
                        <td><code>&#123;&#123;vars.myVar&#125;&#125;</code></td>
                        <td>Accesses custom variable</td>
                    </tr>
                    <tr>
                        <td>Block-scoped variables</td>
                        <td><code>&#123;&#123;#let key="value"&#125;&#125;...&#123;&#123;/let&#125;&#125;</code></td>
                        <td>Variables only exist within block (scope isolation)</td>
                    </tr>
                    <tr>
                        <td>Context switching</td>
                        <td><code>&#123;&#123;#with user&#125;&#125;...&#123;&#123;/with&#125;&#125;</code></td>
                        <td>Switches context to object properties</td>
                    </tr>
                </table>
            </div>

            <div class="jp-info-box">
                <h4>3.9 Reusable Components</h4>
                <table class="jp-table">
                    <tr>
                        <th>Variable</th>
                        <th>Handlebar</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td>Define component</td>
                        <td><code>&#123;&#123;#component "adminCards.config"&#125;&#125;...&#123;&#123;/component&#125;&#125;</code></td>
                        <td>Defines a reusable component</td>
                    </tr>
                    <tr>
                        <td>Include component library</td>
                        <td><code>&#123;&#123;file.includeComponents "admin/*.shtml" component="adminCards.*"&#125;&#125;</code></td>
                        <td>Loads components from multiple admin dashboard files</td>
                    </tr>
                    <tr>
                        <td>Use component</td>
                        <td><code>&#123;&#123;components.adminCards.config&#125;&#125;</code></td>
                        <td>Renders the component</td>
                    </tr>
                    <tr>
                        <td>Use component with params</td>
                        <td><code>&#123;&#123;components.jPulseIcons.configSvg size="64"&#125;&#125;</code></td>
                        <td>Renders with custom parameters</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Internationalization Example -->
        <h2 class="local-heading-2">4. Internationalization with &#123;&#123;#i18n.*&#125;&#125;</h2>
        <!-- Tab interface for example/source -->
        <div id="i18n-tabs" class="jp-tabs"></div>
        <div id="i18n-example-panel" class="jp-panel">
            <div class="jp-info-box">
                <p><strong>Welcome Message:</strong> {{i18n.view.home.introduction}}</p>
                <p><strong>Login Status:</strong> {{#if user.isAuthenticated}}{{i18n.view.home.welcomeBack}}{{else}}{{i18n.view.home.notLoggedIn}}{{/if}}</p>
                <p><strong>Authentication Message:</strong> {{i18n.view.auth.common.notAuthenticated}}</p>
            </div>
        </div>

        <div id="i18n-source-panel" class="jp-panel">
            <div class="jp-source-code" data-lang="html">
&lt;p&gt;&lt;strong&gt;Welcome Message:&lt;/strong&gt; &#123;&#123;i18n.view.home.introduction&#125;&#125;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Login Status:&lt;/strong&gt; &#123;&#123;#if user.isAuthenticated&#125;&#125;&#123;&#123;i18n.view.home.welcomeBack&#125;&#125;&#123;&#123;else&#125;&#125;&#123;&#123;i18n.view.home.notLoggedIn&#125;&#125;&#123;&#123;/if&#125;&#125;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Authentication Message:&lt;/strong&gt; &#123;&#123;i18n.view.auth.common.notAuthenticated&#125;&#125;&lt;/p&gt;
            </div>
        </div>

        <!-- Template Includes Example -->
        <h2 class="local-heading-2">5. Template Includes with &#123;&#123;file.include&#125;&#125;</h2>
        <!-- Tab interface for example/source -->
        <div id="includes-tabs" class="jp-tabs"></div>
        <div id="includes-example-panel" class="jp-panel">
            <div class="jp-info-box">
                <p>This page includes the header and footer templates:</p>
                <ul>
                    <li><code>jpulse-header.tmpl</code> - Contains CSS, meta tags, and navigation</li>
                    <li><code>jpulse-footer.tmpl</code> - Contains JavaScript libraries and closing tags</li>
                </ul>
                <p>File timestamp: Used for browser cache busting</p>
                <ul>
                    <li><code>jpulse-common.css</code> timestamp: {{file.timestamp "jpulse-common.css"}}</li>
                </ul>
            </div>
        </div>

        <div id="includes-source-panel" class="jp-panel">
            <div class="jp-source-code" data-lang="html">
&lt;!-- Server side include in the &lt;head&gt; section --&gt;
&#123;&#123;file.include "jpulse-header.tmpl"&#125;&#125;

&lt;!-- Server side include at the end of &lt;body&gt; --&gt;
&#123;&#123;file.include "jpulse-footer.tmpl"&#125;&#125;

&lt;!-- Link to file with timestamp for browser cache busting --&gt;
&lt;link rel="stylesheet" href="/jpulse-common.css?t=&#123;&#123;file.timestamp "jpulse-common.css"&#125;&#125;"&gt;
            </div>
        </div>

        <!-- Logical and Comparison Helpers (v1.3.15+) -->
        <h2 class="local-heading-2">6. Logical and Comparison Helpers</h2>
        <!-- Tab interface for example/source -->
        <div id="logical-tabs" class="jp-tabs"></div>
        <div id="logical-example-panel" class="jp-panel">
            {{#unless user.isAuthenticated}}
            <div class="jp-info-box">
                <p><em>üí° Note: <a href="/auth/login.shtml">Log in</a> to see examples with user data.</em></p>
            </div>
            {{/unless}}

            <div class="jp-info-box">
                <h4>Standalone Helpers</h4>
                <p><strong>Logical AND:</strong> {{and user.isAdmin user.isActive}}</p>
                <p><strong>Logical OR:</strong> {{or user.isPremium user.isActive}}</p>
                <p><strong>Logical NOT:</strong> {{not user.isPremium}}</p>
                <p><strong>Equality:</strong> {{eq user.role "admin"}}</p>
                <p><strong>Greater Than:</strong> {{gt user.count 3}}</p>
            </div>

            <div class="jp-warning-box">
                <h4>Subexpressions in {{#if}}</h4>
                {{#if (and user.isAdmin user.isActive)}}
                    <p>‚úÖ Active admin (using subexpression)</p>
                {{/if}}
                {{#if (gt user.count 3)}}
                    <p>‚úÖ Count is greater than 3</p>
                {{/if}}
                {{#if (eq user.role "admin")}}
                    <p>‚úÖ User role is "admin"</p>
                {{/if}}
            </div>

            <div class="jp-info-box">
                <h4>Block Helpers with {{else}}</h4>
                {{#and user.isAdmin user.isActive}}
                    <p>‚úÖ Active admin (block helper)</p>
                {{else}}
                    <p>‚ùå Not an active admin</p>
                {{/and}}

                {{#gt user.count 3}}
                    <p>‚úÖ Count is greater than 3</p>
                {{else}}
                    <p>‚ùå Count is 3 or less</p>
                {{/gt}}
            </div>

            <div class="jp-warning-box">
                <h4>Nested Subexpressions</h4>
                {{#if (and (eq user.role "admin") (gt user.count 3))}}
                    <p>‚úÖ Admin with count > 3</p>
                {{else}}
                    <p>‚ùå Not admin or count <= 3</p>
                {{/if}}
            </div>
        </div>

        <div id="logical-source-panel" class="jp-panel">
            <div class="jp-source-code" data-lang="html">
&lt;!-- Standalone Helpers --&gt;
&#123;&#123;and user.isAdmin user.isActive&#125;&#125;
&#123;&#123;or user.isPremium user.isActive&#125;&#125;
&#123;&#123;not user.isPremium&#125;&#125;
&#123;&#123;eq user.role "admin"&#125;&#125;
&#123;&#123;gt user.count 3&#125;&#125;

&lt;!-- Subexpressions in {{#if}} --&gt;
&#123;&#123;#if (and user.isAdmin user.isActive)&#125;&#125;
    &lt;p&gt;‚úÖ Active admin&lt;/p&gt;
&#123;&#123;/if&#125;&#125;

&#123;&#123;#if (gt user.count 3)&#125;&#125;
    &lt;p&gt;‚úÖ Count is greater than 3&lt;/p&gt;
&#123;&#123;/if&#125;&#125;

&lt;!-- Block Helpers with {{else}} --&gt;
&#123;&#123;#and user.isAdmin user.isActive&#125;&#125;
    &lt;p&gt;‚úÖ Active admin&lt;/p&gt;
&#123;&#123;else&#125;&#125;
    &lt;p&gt;‚ùå Not an active admin&lt;/p&gt;
&#123;&#123;/and&#125;&#125;

&#123;&#123;#gt user.count 3&#125;&#125;
    &lt;p&gt;‚úÖ Count is greater than 3&lt;/p&gt;
&#123;&#123;else&#125;&#125;
    &lt;p&gt;‚ùå Count is 3 or less&lt;/p&gt;
&#123;&#123;/gt&#125;&#125;

&lt;!-- Nested Subexpressions --&gt;
&#123;&#123;#if (and (eq user.role "admin") (gt user.count 3))&#125;&#125;
    &lt;p&gt;‚úÖ Admin with count &gt; 3&lt;/p&gt;
&#123;&#123;else&#125;&#125;
    &lt;p&gt;‚ùå Not admin or count &lt;= 3&lt;/p&gt;
&#123;&#123;/if&#125;&#125;
            </div>
        </div>

        <!-- Math Helpers (v1.4.8+) -->
        <h2 class="local-heading-2">7. Math Helpers</h2>
        <!-- Tab interface for example/source -->
        <div id="math-tabs" class="jp-tabs"></div>
        <div id="math-example-panel" class="jp-panel">
            <div class="jp-info-box">
                <h4>Basic Math Operations</h4>
                <ul>
                    <li><strong>Add:</strong> 2 + 4 + 6 = {{math.add 2 4 6}}</li>
                    <li><strong>Subtract:</strong> 10 - 3 - 2 = {{math.subtract 10 3 2}}</li>
                    <li><strong>Multiply:</strong> 2 √ó 3 √ó 4 = {{math.multiply 2 3 4}}</li>
                    <li><strong>Divide:</strong> 100 √∑ 4 √∑ 2 = {{math.divide 100 4 2}}</li>
                    <li><strong>Modulo:</strong> 17 % 5 = {{math.mod 17 5}}</li>
                </ul>
            </div>

            <div class="jp-warning-box">
                <h4>Rounding Operations</h4>
                <ul>
                    <li><strong>Round:</strong> round 3.7 to nearest integer = {{math.round 3.7}}</li>
                    <li><strong>Floor:</strong> round 3.7 down = {{math.floor 3.7}}</li>
                    <li><strong>Ceil:</strong> round 3.2 up = {{math.ceil 3.2}}</li>
                    <li><strong>Round with division and multiplication:</strong> œÄ approximation = {{math.divide (math.round (math.multiply (math.divide 22 7) 100)) 100}}</li>
                </ul>
            </div>

            <div class="jp-info-box">
                <h4>Min/Max Operations</h4>
                <ul>
                    <li><strong>Minimum:</strong> find minimum of 5, 3, 8, 2 = {{math.min 5 3 8 2}}</li>
                    <li><strong>Maximum:</strong> find maximum of 5, 3, 8, 2 = {{math.max 5 3 8 2}}</li>
                </ul>
            </div>

            <div class="jp-warning-box">
                <h4>Nested Math Expressions</h4>
                <ul>
                    <li><strong>Complex calculation:</strong> (100 + 50) √∑ 3 = {{math.divide (math.add 100 50) 3}}</li>
                    <li><strong>Multiple operations:</strong> 2 + (4 √ó 6) + (20 √∑ 2) = {{math.add 2 (math.multiply 4 6) (math.divide 20 2)}}</li>
                    <li><strong>In conditionals:</strong> {{#if (gt (math.add 50 50) 90)}}High score!{{else}}Low score{{/if}}</li>
                </ul>
            </div>

            <div class="jp-info-box">
                <h4>With Variables</h4>
                {{let price=10 quantity=3 tax=1.2}}
                <ul>
                    <li><strong>Subtotal:</strong> vars.price √ó vars.quantity = {{math.multiply vars.price vars.quantity}}</li>
                    <li><strong>Total with tax:</strong> vars.price √ó vars.quantity √ó vars.tax = {{math.multiply vars.price vars.quantity vars.tax}}</li>
                </ul>
            </div>
        </div>

        <div id="math-source-panel" class="jp-panel">
            <div class="jp-source-code" data-lang="html">
&lt;!-- Basic Math Operations --&gt;
&#123;&#123;math.add 2 4 6&#125;&#125;                    &lt;!-- 12 --&gt;
&#123;&#123;math.subtract 10 3 2&#125;&#125;              &lt;!-- 5 (10 - 3 - 2) --&gt;
&#123;&#123;math.multiply 2 3 4&#125;&#125;                 &lt;!-- 24 --&gt;
&#123;&#123;math.divide 100 4 2&#125;&#125;                 &lt;!-- 12.5 (100 / 4 / 2) --&gt;
&#123;&#123;math.mod 17 5&#125;&#125;                       &lt;!-- 2 --&gt;

&lt;!-- Rounding Operations --&gt;
&#123;&#123;math.round 3.7&#125;&#125;                      &lt;!-- 4 --&gt;
&#123;&#123;math.floor 3.7&#125;&#125;                      &lt;!-- 3 --&gt;
&#123;&#123;math.ceil 3.2&#125;&#125;                       &lt;!-- 4 --&gt;
&#123;&#123;math.divide (math.round (math.multiply (math.divide 22 7) 100)) 100&#125;&#125;  &lt;!-- 3.14 (œÄ approximation) --&gt;

&lt;!-- Min/Max Operations --&gt;
&#123;&#123;math.min 5 3 8 2&#125;&#125;                      &lt;!-- 2 --&gt;
&#123;&#123;math.max 5 3 8 2&#125;&#125;                      &lt;!-- 8 --&gt;

&lt;!-- Nested Math Expressions --&gt;
&#123;&#123;math.divide (math.add 100 50) 3&#125;&#125;            &lt;!-- 50 --&gt;
&#123;&#123;math.add 2 (math.multiply 4 6) (math.divide 20 2)&#125;&#125;  &lt;!-- 36 --&gt;

&lt;!-- In Conditionals --&gt;
&#123;&#123;#if (gt (math.add 50 50) 90)&#125;&#125;
    High score!
&#123;&#123;else&#125;&#125;
    Low score
&#123;&#123;/if&#125;&#125;

&lt;!-- With Variables --&gt;
&#123;&#123;let price=10 quantity=3 tax=1.2&#125;&#125;
&#123;&#123;math.multiply vars.price vars.quantity&#125;&#125;        &lt;!-- 30 --&gt;
&#123;&#123;math.multiply vars.price vars.quantity vars.tax&#125;&#125;  &lt;!-- 36 --&gt;
            </div>
        </div>

        <!-- String Helpers (v1.4.8+) -->
        <h2 class="local-heading-2">8. String Helpers</h2>
        <!-- Tab interface for example/source -->
        <div id="string-tabs" class="jp-tabs"></div>
        <div id="string-example-panel" class="jp-panel">
            <div class="jp-info-box">
                <h4>String Concatenation and Defaults</h4>
                <ul>
                    <li><strong>Concat:</strong> {{string.concat "hello" " " "world"}} = hello world</li>
                    <li><strong>Default:</strong> {{string.default user.preferences.theme "light"}} = light (if theme is empty)</li>
                    <li><strong>Concat with default:</strong> {{string.concat "themes/" (string.default user.preferences.theme "light") ".css"}} = themes/light.css (if theme is empty)</li>
                </ul>
            </div>

            <div class="jp-warning-box">
                <h4>String Manipulation</h4>
                <ul>
                    <li><strong>Replace:</strong> {{string.replace "hello world" "world" "jPulse"}} = hello jPulse</li>
                    <li><strong>Substring:</strong> {{string.substring "hello world" 0 5}} = hello</li>
                    <li><strong>Pad Left:</strong> {{string.padLeft "5" 3 "0"}} = 005</li>
                    <li><strong>Pad Right:</strong> {{string.padRight "5" 3 "0"}} = 500</li>
                </ul>
            </div>

            <div class="jp-info-box">
                <h4>String Checks</h4>
                <ul>
                    <li><strong>Starts With:</strong> {{string.startsWith "hello" "he"}} = true</li>
                    <li><strong>Ends With:</strong> {{string.endsWith "hello" "lo"}} = true</li>
                    <li><strong>Contains:</strong> {{string.contains "hello" "ell"}} = true</li>
                </ul>
            </div>

            <div class="jp-warning-box">
                <h4>In Conditionals</h4>
                <ul>
                    <li><strong>Path check:</strong> {{#if (eq (string.startsWith url.path "/admin") "true")}}Admin area{{else}}Public area{{/if}}</li>
                    <li><strong>Email check:</strong> {{#if (eq (string.contains user.email "@") "true")}}Valid email{{else}}Invalid email{{/if}}</li>
                </ul>
            </div>
        </div>

        <div id="string-source-panel" class="jp-panel">
            <div class="jp-source-code" data-lang="html">
&lt;!-- String Concatenation and Defaults --&gt;
&#123;&#123;string.concat "hello" " " "world"&#125;&#125;              &lt;!-- "hello world" --&gt;
&#123;&#123;string.default user.preferences.theme "light"&#125;&#125;  &lt;!-- "light" if theme is empty --&gt;
&#123;&#123;string.concat "themes/" (string.default user.preferences.theme "light") ".css"&#125;&#125;

&lt;!-- String Manipulation --&gt;
&#123;&#123;string.replace "hello world" "world" "jPulse"&#125;&#125;  &lt;!-- "hello jPulse" --&gt;
&#123;&#123;string.substring "hello world" 0 5&#125;&#125;             &lt;!-- "hello" --&gt;
&#123;&#123;string.padLeft "5" 3 "0"&#125;&#125;                       &lt;!-- "005" --&gt;
&#123;&#123;string.padRight "5" 3 "0"&#125;&#125;                      &lt;!-- "500" --&gt;

&lt;!-- String Checks --&gt;
&#123;&#123;string.startsWith "hello" "he"&#125;&#125;                 &lt;!-- "true" --&gt;
&#123;&#123;string.endsWith "hello" "lo"&#125;&#125;                   &lt;!-- "true" --&gt;
&#123;&#123;string.contains "hello" "ell"&#125;&#125;                  &lt;!-- "true" --&gt;

&lt;!-- In Conditionals --&gt;
&#123;&#123;#if (eq (string.startsWith url.path "/admin") "true")&#125;&#125;
    Admin area
&#123;&#123;else&#125;&#125;
    Public area
&#123;&#123;/if&#125;&#125;
&#123;&#123;#if (eq (string.contains user.email "@") "true")&#125;&#125;
    Valid email
&#123;&#123;else&#125;&#125;
    Invalid email
&#123;&#123;/if&#125;&#125;
            </div>
        </div>

        <!-- Custom Variables with {{let}} (v1.3.3+) -->
        <h2 class="local-heading-2">9. Custom Variables with &#123;&#123;let&#125;&#125;</h2>
        <!-- Tab interface for example/source -->
        <div id="let-tabs" class="jp-tabs"></div>
        <div id="let-example-panel" class="jp-panel">
            <div class="jp-info-box">
                <h4>Basic Variable Assignment</h4>
                {{let pageTitle="Handlebars Examples" maxItems=5 showFooter=true}}
                <p><strong>Page Title:</strong> {{vars.pageTitle}}</p>
                <p><strong>Max Items:</strong> {{vars.maxItems}}</p>
                <p><strong>Show Footer:</strong> {{vars.showFooter}}</p>
            </div>

            <div class="jp-warning-box">
                <h4>Nested Properties</h4>
                {{let siteConfig.theme="dark" siteConfig.timeout=5000 api.v2.endpoint="/api/v2"}}
                <p><strong>Theme:</strong> {{vars.siteConfig.theme}}</p>
                <p><strong>Timeout:</strong> {{vars.siteConfig.timeout}}ms</p>
                <p><strong>API Endpoint:</strong> {{vars.api.v2.endpoint}}</p>
            </div>

            <div class="jp-info-box">
                <h4>Conditional Variable Assignment</h4>
                {{#if user.isAuthenticated}}
                    {{let greeting="Welcome back" showProfile=true}}
                {{else}}
                    {{let greeting="Hello guest" showProfile=false}}
                {{/if}}
                <p><strong>Greeting:</strong> {{vars.greeting}}</p>
                <p><strong>Show Profile:</strong> {{vars.showProfile}}</p>
            </div>
        </div>

        <div id="let-source-panel" class="jp-panel">
            <div class="jp-source-code" data-lang="html">
&lt;!-- Basic Variable Assignment --&gt;
&#123;&#123;let pageTitle="Handlebars Examples" maxItems=5 showFooter=true&#125;&#125;
&lt;p&gt;&lt;strong&gt;Page Title:&lt;/strong&gt; &#123;&#123;vars.pageTitle&#125;&#125;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Max Items:&lt;/strong&gt; &#123;&#123;vars.maxItems&#125;&#125;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Show Footer:&lt;/strong&gt; &#123;&#123;vars.showFooter&#125;&#125;&lt;/p&gt;

&lt;!-- Nested Properties --&gt;
&#123;&#123;let siteConfig.theme="dark" siteConfig.timeout=5000 api.v2.endpoint="/api/v2"&#125;&#125;
&lt;p&gt;&lt;strong&gt;Theme:&lt;/strong&gt; &#123;&#123;vars.siteConfig.theme&#125;&#125;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Timeout:&lt;/strong&gt; &#123;&#123;vars.siteConfig.timeout&#125;&#125;ms&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;API Endpoint:&lt;/strong&gt; &#123;&#123;vars.api.v2.endpoint&#125;&#125;&lt;/p&gt;

&lt;!-- Conditional Variable Assignment --&gt;
&#123;&#123;#if user.isAuthenticated&#125;&#125;
    &#123;&#123;let greeting="Welcome back" showProfile=true&#125;&#125;
&#123;&#123;else&#125;&#125;
    &#123;&#123;let greeting="Hello guest" showProfile=false&#125;&#125;
&#123;&#123;/if&#125;&#125;
&lt;p&gt;&lt;strong&gt;Greeting:&lt;/strong&gt; &#123;&#123;vars.greeting&#125;&#125;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Show Profile:&lt;/strong&gt; &#123;&#123;vars.showProfile&#125;&#125;&lt;/p&gt;
            </div>
        </div>

        <!-- Block-Scoped Variables with #let handlebars -->
        <h2 class="local-heading-2">10. Block-Scoped Variables with &#123;&#123;#let&#125;&#125;</h2>
        <!-- Tab interface for example/source -->
        <div id="let-block-tabs" class="jp-tabs"></div>
        <div id="let-block-example-panel" class="jp-panel">
            <div class="jp-info-box">
                <p><strong>What you learn:</strong> How to use <code>&#123;&#123;#let&#125;&#125;</code> to create block-scoped variables that don't persist after the block closes.</p>
                <p><strong>Use Case:</strong> Prevent variable pollution in loops and conditional blocks.</p>
            </div>

            <div class="jp-info-box">
                <h4>Basic Block Scope</h4>
                {{let outer="outer"}}
                {{#let inner="inner"}}
                    <p>Inside block: outer={{vars.outer}}, inner={{vars.inner}}</p>
                {{/let}}
                <p>After block: outer={{vars.outer}}, inner={{vars.inner}}</p>
            </div>

            <div class="jp-warning-box">
                <h4>Preventing Loop Pollution</h4>
                {{#each user.roles}}
                    {{#let index=@index itemClass="active"}}
                        <p>Item {{vars.index}}: {{this}} (class: {{vars.itemClass}})</p>
                    {{/let}}
                {{/each}}
                <p>After loop, itemClass is gone: "{{vars.itemClass}}"</p>
            </div>

            <div class="jp-info-box">
                <h4>Nested Block Scopes</h4>
                {{let level="L0"}}
                {{#let level="L1"}}
                    <p>Level 1: {{vars.level}}</p>
                    {{#let level="L2"}}
                        <p>Level 2: {{vars.level}}</p>
                    {{/let}}
                    <p>Back to Level 1: {{vars.level}}</p>
                {{/let}}
                <p>Back to Level 0: {{vars.level}}</p>
            </div>
        </div>

        <div id="let-block-source-panel" class="jp-panel">
            <div class="jp-source-code" data-lang="html">
&lt;!-- Basic Block Scope --&gt;
&#123;&#123;let outer="outer"&#125;&#125;
&#123;&#123;#let inner="inner"&#125;&#125;
    &lt;p&gt;Inside: outer=&#123;&#123;vars.outer&#125;&#125;, inner=&#123;&#123;vars.inner&#125;&#125;&lt;/p&gt;
&#123;&#123;/let&#125;&#125;
&lt;p&gt;After: outer=&#123;&#123;vars.outer&#125;&#125;, inner=&#123;&#123;vars.inner&#125;&#125;&lt;/p&gt;

&lt;!-- Preventing Loop Pollution --&gt;
&#123;&#123;#each user.roles&#125;&#125;
    &#123;&#123;#let index=@index itemClass="active"&#125;&#125;
        &lt;p&gt;Item &#123;&#123;vars.index&#125;&#125;: &#123;&#123;this&#125;&#125; (class: &#123;&#123;vars.itemClass&#125;&#125;)&lt;/p&gt;
    &#123;&#123;/let&#125;&#125;
&#123;&#123;/each&#125;&#125;
&lt;p&gt;After loop, itemClass is gone: "&#123;&#123;vars.itemClass&#125;&#125;"&lt;/p&gt;

&lt;!-- Nested Block Scopes --&gt;
&#123;&#123;let level="L0"&#125;&#125;
&#123;&#123;#let level="L1"&#125;&#125;
    &lt;p&gt;Level 1: &#123;&#123;vars.level&#125;&#125;&lt;/p&gt;
    &#123;&#123;#let level="L2"&#125;&#125;
        &lt;p&gt;Level 2: &#123;&#123;vars.level&#125;&#125;&lt;/p&gt;
    &#123;&#123;/let&#125;&#125;
    &lt;p&gt;Back to Level 1: &#123;&#123;vars.level&#125;&#125;&lt;/p&gt;
&#123;&#123;/let&#125;&#125;
&lt;p&gt;Back to Level 0: &#123;&#123;vars.level&#125;&#125;&lt;/p&gt;
            </div>
        </div>

        <!-- Conditional Rendering Example -->
        <h2 class="local-heading-2">11. Conditional Rendering with &#123;&#123;#if&#125;&#125;</h2>
        <!-- Tab interface for example/source -->
        <div id="conditionals-tabs" class="jp-tabs"></div>
        <div id="conditionals-example-panel" class="jp-panel">
            {{#unless user.isAuthenticated}}
            <div class="jp-info-box">
                <p><em>üí° Note: <a href="/auth/login.shtml">Log in</a> to see the authenticated user example below.</em></p>
            </div>
            {{/unless}}
            <div class="jp-warning-box">
                <h4>Authentication Status</h4>
                {{#if user.isAuthenticated}}
                    <p>‚úÖ Welcome back, {{user.firstName}}!</p>
                    <p>Your roles: {{user.roles}}</p>
                    {{#if user.isAdmin}}
                        <p>üîß You have admin privileges</p>
                    {{/if}}
                {{else}}
                    <p>üëã Hello, guest! Please <a href="/auth/login.shtml">log in</a> to access more features.</p>
                {{/if}}
            </div>

            <div class="jp-info-box">
                <h4>Complex Conditions with Subexpressions (v1.3.15+)</h4>
                {{#if (and user.isAuthenticated user.isAdmin)}}
                    <p>‚úÖ Authenticated admin user (using subexpression)</p>
                {{else}}
                    <p>‚ùå Not authenticated user, or a user without admin role</p>
                {{/if}}
                {{#if (and user.isAuthenticated (gt user.roles.length 1))}}
                    <p>‚úÖ Authenticated user with more than one role</p>
                {{else}}
                    <p>‚ùå Not authenticated user or a user with only one role</p>
                {{/if}}
            </div>
        </div>

        <div id="conditionals-source-panel" class="jp-panel">
            <div class="jp-source-code" data-lang="html">
&lt;!-- Basic Conditional --&gt;
&#123;&#123;#if user.isAuthenticated&#125;&#125;
    &lt;p&gt;‚úÖ Welcome back, &#123;&#123;user.firstName&#125;&#125;!&lt;/p&gt;
    &lt;p&gt;Your roles: &#123;&#123;user.roles&#125;&#125;&lt;/p&gt;
    &#123;&#123;#if user.isAdmin&#125;&#125;
        &lt;p&gt;üîß You have admin privileges&lt;/p&gt;
    &#123;&#123;/if&#125;&#125;
&#123;&#123;else&#125;&#125;
    &lt;p&gt;üëã Hello, guest! Please &lt;a href="/auth/login.shtml"&gt;log in&lt;/a&gt; to access more features.&lt;/p&gt;
&#123;&#123;/if&#125;&#125;

&lt;!-- Complex Conditions with Subexpressions (v1.3.15+) --&gt;
&#123;&#123;#if (and user.isAuthenticated user.isAdmin)&#125;&#125;
    &lt;p&gt;‚úÖ Authenticated admin user (using subexpression)&lt;/p&gt;
&#123;&#123;else&#125;&#125;
    &lt;p&gt;‚ùå Not authenticated user, or a user without admin role&lt;/p&gt;
&#123;&#123;/if&#125;&#125;

&#123;&#123;#if (and user.isAuthenticated (gt user.roles.length 1))&#125;&#125;
    &lt;p&gt;‚úÖ Authenticated user with more than one role&lt;/p&gt;
&#123;&#123;else&#125;&#125;
    &lt;p&gt;‚ùå Not authenticated user or a user with only one role&lt;/p&gt;
&#123;&#123;/if&#125;&#125;
            </div>
        </div>

        <!-- Loops Example -->
        <h2 class="local-heading-2">12. Loops &amp; Iterations with &#123;&#123;#each&#125;&#125;</h2>
        <!-- Tab interface for example/source -->
        <div id="loops-tabs" class="jp-tabs"></div>
        <div id="loops-example-panel" class="jp-panel">
            {{#unless user.isAuthenticated}}
            <div class="jp-info-box">
                <p><em>üí° Note: <a href="/auth/login.shtml">Log in</a> to see loops with your user roles and data.</em></p>
            </div>
            {{/unless}}
            <div class="jp-info-box">
                <h4>Array of Strings (User Roles)</h4>
                <p>Current user roles:
                {{#each user.roles}}
                    <span class="jp-role-badge jp-role-{{this}}">{{this}}</span>
                {{/each}}
                </p>
            </div>

            <div class="jp-warning-box">
                <h4>Loop Variables Example</h4>
                <ul>
                {{#each user.roles}}
                    <li>Role {{@index}}: {{this}} {{#if @first}}(first){{/if}}{{#if @last}}(last){{/if}}</li>
                {{/each}}
                </ul>
            </div>

            <div class="jp-info-box">
                <h4>Array of Objects Example</h4>
                <p><em>Note: This example shows the concept. In a real application, you would pass an array of user objects to the template.</em></p>
                <div class="jp-user-card" style="border: 1px solid #ddd; padding: 10px; margin: 5px 0;">
                    <h5>{{user.firstName}} {{user.lastName}}</h5>
                    <p>Email: {{user.email}}</p>
                </div>
            </div>

            <div class="jp-warning-box">
                <h4>Object Keys Example</h4>
                <p><em>Iterating over session user object properties:</em></p>
                <ul>
                    {{#each user}}
                    <li><strong>{{@key}}:</strong> {{this}}</li>
                    {{/each}}
                </ul>
            </div>
        </div>

        <div id="loops-source-panel" class="jp-panel">
            <div class="jp-source-code" data-lang="html">
&lt;!-- Array of Strings --&gt;
&#123;&#123;#each user.roles&#125;&#125;
    &lt;span class="jp-role-badge jp-role-&#123;&#123;this&#125;&#125;"&gt;&#123;&#123;this&#125;&#125;&lt;/span&gt;
&#123;&#123;/each&#125;&#125;

&lt;!-- With Loop Variables --&gt;
&#123;&#123;#each user.roles&#125;&#125;
    &lt;li&gt;Role &#123;&#123;@index&#125;&#125;: &#123;&#123;this&#125;&#125; &#123;&#123;#if @first&#125;&#125;(first)&#123;&#123;/if&#125;&#125;&#123;&#123;#if @last&#125;&#125;(last)&#123;&#123;/if&#125;&#125;&lt;/li&gt;
&#123;&#123;/each&#125;&#125;

&lt;!-- Array of Objects --&gt;
&#123;&#123;#each users&#125;&#125;
    &lt;div class="jp-user-card"&gt;
        &lt;h4&gt;&#123;&#123;this.firstName&#125;&#125; &#123;&#123;this.lastName&#125;&#125;&lt;/h4&gt;
        &lt;p&gt;Email: &#123;&#123;this.email&#125;&#125;&lt;/p&gt;
    &lt;/div&gt;
&#123;&#123;/each&#125;&#125;

&lt;!-- Object Keys --&gt;
&#123;&#123;#each user&#125;&#125;
    &lt;div&gt;&lt;strong&gt;&#123;&#123;@key&#125;&#125;:&lt;/strong&gt; &#123;&#123;this&#125;&#125;&lt;/div&gt;
&#123;&#123;/each&#125;&#125;
            </div>
        </div>

        <!-- Context Switching with #with handlebars (v1.3.3+) -->
        <h2 class="local-heading-2">13. Context Switching with &#123;&#123;#with&#125;&#125;</h2>
        <!-- Tab interface for example/source -->
        <div id="with-tabs" class="jp-tabs"></div>
        <div id="with-example-panel" class="jp-panel">
            {{#unless user.isAuthenticated}}
            <div class="jp-info-box">
                <p><em>üí° Note: <a href="/auth/login.shtml">Log in</a> to see context switching with user data.</em></p>
            </div>
            {{/unless}}
            <div class="jp-info-box">
                <h4>Basic Context Switching</h4>
                {{#with user}}
                    <p><strong>Name:</strong> {{firstName}} {{lastName}}</p>
                    <p><strong>Email:</strong> {{email}}</p>
                    <p><strong>Roles:</strong> {{roles}}</p>
                {{/with}}
            </div>

            <div class="jp-warning-box">
                <h4>Combining Variables and Context Switching</h4>
                {{let prefix="User"}}
                {{#with user}}
                    <p><strong>{{vars.prefix}}:</strong> {{firstName}} {{lastName}}</p>
                    <p><strong>Status:</strong> {{#if isAuthenticated}}Active{{else}}Inactive{{/if}}</p>
                {{/with}}
            </div>
        </div>

        <div id="with-source-panel" class="jp-panel">
            <div class="jp-source-code" data-lang="html">
&lt;!-- Basic Context Switching --&gt;
&#123;&#123;#with user&#125;&#125;
    &lt;p&gt;&lt;strong&gt;Name:&lt;/strong&gt; &#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;Email:&lt;/strong&gt; &#123;&#123;email&#125;&#125;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;Roles:&lt;/strong&gt; &#123;&#123;roles&#125;&#125;&lt;/p&gt;
&#123;&#123;/with&#125;&#125;

&lt;!-- Combining Variables and Context Switching --&gt;
&#123;&#123;let prefix="User"&#125;&#125;
&#123;&#123;#with user&#125;&#125;
    &lt;p&gt;&lt;strong&gt;&#123;&#123;vars.prefix&#125;&#125;:&lt;/strong&gt; &#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;&lt;/p&gt;
    &lt;p&gt;&lt;strong&gt;Status:&lt;/strong&gt; &#123;&#123;#if isAuthenticated&#125;&#125;Active&#123;&#123;else&#125;&#125;Inactive&#123;&#123;/if&#125;&#125;&lt;/p&gt;
&#123;&#123;/with&#125;&#125;
            </div>
        </div>

        <!-- Nested Handlebars Example (v0.7.20+) -->
        <h2 class="local-heading-2">14. Nested Handlebars</h2>
        <!-- Tab interface for example/source -->
        <div id="nested-tabs" class="jp-tabs"></div>
        <div id="nested-example-panel" class="jp-panel">
            {{#unless user.isAuthenticated}}
            <div class="jp-info-box">
                <p><em>üí° Note: <a href="/auth/login.shtml">Log in</a> to see nested conditionals with user data.</em></p>
            </div>
            {{/unless}}
            <div class="jp-warning-box">
                <h4>Multi-level Conditional Example</h4>
                {{#if user.isAuthenticated}}
                    <p>User: {{user.firstName}} {{user.lastName}}</p>
                    {{#if user.isAdmin}}
                        <div class="jp-info-box">
                            <p>Admin Panel Access:</p>
                            {{#if siteConfig.features.adminPanel}}
                                <p>‚úÖ Admin panel is enabled</p>
                            {{else}}
                                <p>‚ùå Admin panel is disabled</p>
                            {{/if}}
                        </div>
                    {{else}}
                        <p>Regular user - limited access</p>
                    {{/if}}
                {{else}}
                    <p>Please log in to see personalized content</p>
                {{/if}}
            </div>
        </div>

        <div id="nested-source-panel" class="jp-panel">
            <div class="jp-source-code" data-lang="html">
&#123;&#123;#if user.isAuthenticated&#125;&#125;
    &lt;p&gt;User: &#123;&#123;user.firstName&#125;&#125; &#123;&#123;user.lastName&#125;&#125;&lt;/p&gt;
    &#123;&#123;#if user.isAdmin&#125;&#125;
        &lt;div class="jp-info-box"&gt;
            &lt;p&gt;Admin Panel Access:&lt;/p&gt;
            &#123;&#123;#if siteConfig.features.adminPanel&#125;&#125;
                &lt;p&gt;‚úÖ Admin panel is enabled&lt;/p&gt;
            &#123;&#123;else&#125;&#125;
                &lt;p&gt;‚ùå Admin panel is disabled&lt;/p&gt;
            &#123;&#123;/if&#125;&#125;
        &lt;/div&gt;
    &#123;&#123;else&#125;&#125;
        &lt;p&gt;Regular user - limited access&lt;/p&gt;
    &#123;&#123;/if&#125;&#125;
&#123;&#123;else&#125;&#125;
    &lt;p&gt;Please log in to see personalized content&lt;/p&gt;
&#123;&#123;/if&#125;&#125;
            </div>
        </div>
    </div>

    <script>
        // Initialize all tab interfaces on this page
        jPulse.dom.ready(() => {

            // Initialize main navigation tab row
            jPulse.UI.tabs.register(
                'jpulse-docs-examples-tabs',
                window.jPulseNavigation.tabs.jPulseDocsExamplesTabs
            );

            // Initialize examples navigation tab row
            jPulse.UI.tabs.register(
                'jpulse-examples-sub-tabs',
                window.jPulseNavigation.tabs.jPulseExamplesSubTabs
            );

            // Interactive form tabs
            jPulse.UI.tabs.register('interactive-tabs', {
                tabs: [
                    { id: 'interactive-example-tab', label: 'Interactive Form', panelId: 'interactive-example-panel' },
                    { id: 'interactive-source-tab', label: 'Source Code', panelId: 'interactive-source-panel' }
                ],
                panelHeight: '29rem',
                slideAnimation: true
            }, 'interactive-example-tab');

            // Variables example tabs
            jPulse.UI.tabs.register('variables-tabs', {
                tabs: [
                    { id: 'variables-example-tab', label: 'Example', panelId: 'variables-example-panel' },
                    { id: 'variables-source-tab', label: 'Source Code', panelId: 'variables-source-panel' }
                ],
                panelHeight: '18rem',
                slideAnimation: true
            }, 'variables-example-tab');

            // Conditionals example tabs
            jPulse.UI.tabs.register('conditionals-tabs', {
                tabs: [
                    { id: 'conditionals-example-tab', label: 'Example', panelId: 'conditionals-example-panel' },
                    { id: 'conditionals-source-tab', label: 'Source Code', panelId: 'conditionals-source-panel' }
                ],
                panelHeight: '25rem',
                slideAnimation: true
            }, 'conditionals-example-tab');

            // i18n example tabs
            jPulse.UI.tabs.register('i18n-tabs', {
                tabs: [
                    { id: 'i18n-example', label: 'Example', panelId: 'i18n-example-panel' },
                    { id: 'i18n-source', label: 'Source Code', panelId: 'i18n-source-panel' }
                ],
                panelHeight: '9.5rem',
                slideAnimation: true
            }, 'i18n-example');

            // Includes example tabs
            jPulse.UI.tabs.register('includes-tabs', {
                tabs: [
                    { id: 'includes-example', label: 'Example', panelId: 'includes-example-panel' },
                    { id: 'includes-source', label: 'Source Code', panelId: 'includes-source-panel' }
                ],
                panelHeight: '16rem',
                slideAnimation: true
            }, 'includes-example');

            // Nested example tabs
            jPulse.UI.tabs.register('nested-tabs', {
                tabs: [
                    { id: 'nested-example', label: 'Example', panelId: 'nested-example-panel' },
                    { id: 'nested-source', label: 'Source Code', panelId: 'nested-source-panel' }
                ],
                panelHeight: '24rem',
                slideAnimation: true
            }, 'nested-example');

            // Loops example tabs
            jPulse.UI.tabs.register('loops-tabs', {
                tabs: [
                    { id: 'loops-example', label: 'Example', panelId: 'loops-example-panel' },
                    { id: 'loops-source', label: 'Source Code', panelId: 'loops-source-panel' }
                ],
                panelHeight: '32rem',
                slideAnimation: true
            }, 'loops-example');

            // {{let}} variables example tabs
            jPulse.UI.tabs.register('let-tabs', {
                tabs: [
                    { id: 'let-example', label: 'Example', panelId: 'let-example-panel' },
                    { id: 'let-source', label: 'Source Code', panelId: 'let-source-panel' }
                ],
                panelHeight: '32rem',
                slideAnimation: true
            }, 'let-example');

            // {{#with}} context switching example tabs
            jPulse.UI.tabs.register('with-tabs', {
                tabs: [
                    { id: 'with-example', label: 'Example', panelId: 'with-example-panel' },
                    { id: 'with-source', label: 'Source Code', panelId: 'with-source-panel' }
                ],
                panelHeight: '29rem',
                slideAnimation: true
            }, 'with-example');

            // Logical and comparison helpers example tabs
            jPulse.UI.tabs.register('logical-tabs', {
                tabs: [
                    { id: 'logical-example', label: 'Example', panelId: 'logical-example-panel' },
                    { id: 'logical-source', label: 'Source Code', panelId: 'logical-source-panel' }
                ],
                panelHeight: '32rem',
                slideAnimation: true
            }, 'logical-example');

            // {{#let}} block-scoped variables example tabs
            jPulse.UI.tabs.register('let-block-tabs', {
                tabs: [
                    { id: 'let-block-example', label: 'Example', panelId: 'let-block-example-panel' },
                    { id: 'let-block-source', label: 'Source Code', panelId: 'let-block-source-panel' }
                ],
                panelHeight: '32rem',
                slideAnimation: true
            }, 'let-block-example');

            // Math helpers example tabs
            jPulse.UI.tabs.register('math-tabs', {
                tabs: [
                    { id: 'math-example', label: 'Example', panelId: 'math-example-panel' },
                    { id: 'math-source', label: 'Source Code', panelId: 'math-source-panel' }
                ],
                panelHeight: '32rem',
                slideAnimation: true
            }, 'math-example');

            // String helpers example tabs
            jPulse.UI.tabs.register('string-tabs', {
                tabs: [
                    { id: 'string-example', label: 'Example', panelId: 'string-example-panel' },
                    { id: 'string-source', label: 'Source Code', panelId: 'string-source-panel' }
                ],
                panelHeight: '32rem',
                slideAnimation: true
            }, 'string-example');

            document.getElementById('handlebarButton').addEventListener('click', async () => {
                const $resultElem = document.getElementById('handlebarResult');
                try {
                    const text = document.getElementById('handlebarTextarea').value;
                    const response = await jPulse.api.post('/api/1/handlebar/expand', { text });
                    if (response.success) {
                        $resultElem.classList.remove('local-handlebar-result-error');
                        $resultElem.classList.add('local-handlebar-result-success');
                        $resultElem.textContent = response.text;
                        jPulse.UI.toast.success('See the expanded result below');
                    } else {
                        $resultElem.classList.remove('local-handlebar-result-success');
                        $resultElem.classList.add('local-handlebar-result-error');
                        $resultElem.textContent = `Error: ${response.error}`;
                        jPulse.UI.toast.error('API returned an error: ' + response.error);
                    }
                } catch (error) {
                    $resultElem.classList.remove('local-handlebar-result-success');
                    $resultElem.classList.add('local-handlebar-result-error');
                    $resultElem.textContent = `Error: ${error.message}`;
                    jPulse.UI.toast.error('API call failed: ' + error.message);
                }
            });
        });
    </script>

    {{file.include "jpulse-footer.tmpl"}}
</body>
</html>
