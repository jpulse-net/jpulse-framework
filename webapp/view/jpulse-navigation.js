// Start webapp/view/jpulse-navigation.js
/*
 * @name            jPulse Framework / WebApp / View / Navigation Template
 * @tagline         Site navigation and multi-level navigation tabs definition
 * @description     Reusable template for consistent navigation across the jPulse Framework.
 *                  Do NOT edit this file. Use site/webapp/view/jpulse-navigation.js to override.
 *                  See docs/site-navigation.md for more information, also available at:
 *                  https://jpulse.net/jpulse-docs/site-navigation
 * @file            webapp/view/jpulse-navigation.js
 * @version         1.5.0
 * @release         2026-01-25
 * @repository      https://github.com/jpulse-net/jpulse-framework
 * @author          Peter Thoeny, https://twiki.org & https://github.com/peterthoeny/
 * @copyright       2025 Peter Thoeny, https://twiki.org & https://github.com/peterthoeny/
 * @license         BSL 1.1 -- see LICENSE file; for commercial use: team@jpulse.net
 * @genai           60%, Cursor 2.0, Claude Sonnet 4.5
*/

// Include SVG icon components - needed because this file is loaded as separate HTTP request
// Component registry is per-request, so components must be defined in THIS file's context
{{file.include "components/svg-icons.tmpl"}}

window.jPulseNavigation = {

    // =======================================================
    // Site Navigation: App Icon Dropdown Menu and Breadcrumbs
    // =======================================================
    site: {
        admin: {
            label:              `{{i18n.view.navigation.site.admin._index}}`,
            url:                '/admin/',
            role:               'admin',  // role-based visibility
            icon:               '‚öôÔ∏è',
            pages: {
                dashboard: {
                    label:      `{{i18n.view.navigation.site.admin.dashboard}}`,
                    url:        '/admin/index.shtml',
                    icon:       '‚öôÔ∏è'
                },
                config: {
                    label:      `{{i18n.view.navigation.site.admin.config}}`,
                    url:        '/admin/config.shtml',
                    icon:       `{{components.jpIcons.configSvg size="24" _inline=true}}`
                },
                plugins: {
                    label:      `{{i18n.view.navigation.site.admin.plugins}}`,
                    url:        '/admin/plugins.shtml',
                    icon:       `{{components.jpIcons.pluginSvg size="24" _inline=true}}`,
                    pages: {
                        pluginConfig: {
                            label:      `{{i18n.view.navigation.site.admin.pluginConfig}}`,
                            url:        '/admin/plugin-config.shtml',
                            icon:       `{{components.jpIcons.configSvg size="24" _inline=true}}`,
                            hideInDropdown: true
                        }
                    }
                },
                users: {
                    label:      `{{i18n.view.navigation.site.admin.users}}`,
                    url:        '/admin/users.shtml',
                    icon:       `{{components.jpIcons.usersSvg size="24" _inline=true}}`,
                    pages: {
                        userProfile: {
                            label:      `{{i18n.view.navigation.site.admin.userProfile}}`,
                            url:        '/admin/user-profile.shtml',
                            icon:       `{{components.jpIcons.userSvg size="24" _inline=true}}`,
                            hideInDropdown: true
                        }
                    }
                },
                systemStatus: {
                    label:      `{{i18n.view.navigation.site.admin.systemStatus}}`,
                    url:        '/admin/system-status.shtml',
                    icon:       `{{components.jpIcons.systemStatusSvg size="24" _inline=true}}`
                },
                websocket: {
                    label:      `{{i18n.view.navigation.site.admin.websocket._index}}`,
                    url:        '/admin/websocket-status.shtml',
                    icon:       `{{components.jpIcons.websocketSvg size="24" _inline=true}}`,
                    pages: {
                        websocketStatus: {
                            label:    `{{i18n.view.navigation.site.admin.websocket.websocketStatus}}`,
                            url:      '/admin/websocket-status.shtml',
                            icon:     `{{components.jpIcons.websocketSvg size="24" _inline=true}}`
                        },
                        websocketTest: {
                            label:    `{{i18n.view.navigation.site.admin.websocket.websocketTest}}`,
                            url:      '/admin/websocket-test.shtml',
                            icon:     'üß™'
                        }
                    }
                },
                logs: {
                    label:      `{{i18n.view.navigation.site.admin.logs}}`,
                    url:        '/admin/logs.shtml',
                    icon:       `{{components.jpIcons.logsSvg size="24" _inline=true}}`
                }
            }
        },
        user: {
            label:              `{{i18n.view.navigation.site.user._index}}`,
            url:                '/user/',
            icon:               'üë•',
            hideInDropdown: true,
            pages: {
                me: {
                    label:      `{{i18n.view.navigation.site.user.me}}`,
                    url:        '/user/me',
                    hideInDropdown: true
                },
                settings: {
                    label:      `{{i18n.view.navigation.site.user.settings}}`,
                    url:        '/user/settings',
                    hideInDropdown: true
                },
            }
        },
        jPulseDocs: {
            label:              `{{i18n.view.navigation.site.jPulseDocs}}`,
            url:                '/jpulse-docs/',
            icon:               'üìñ',
            pages: {
                // Data load dynamically via jPulse.UI.navigation.registerPages()
            }
        },
        jPulseExamples: {
            label:              `{{i18n.view.navigation.site.jPulseExamples._index}}`,
            url:                '/jpulse-examples/',
            icon:               'üöÄ',
            pages: {
                overview: {
                    label:      `{{i18n.view.navigation.site.jPulseExamples.overview}}`,
                    url:        '/jpulse-examples/index.shtml',
                    icon:       'üöÄ'
                },
                api: {
                    label:      `{{i18n.view.navigation.site.jPulseExamples.api}}`,
                    url:        '/jpulse-examples/api.shtml',
                    icon:       `{{components.jpIcons.apiSvg size="24" _inline=true}}`
                },
                handlebars: {
                    label:      `{{i18n.view.navigation.site.jPulseExamples.handlebars}}`,
                    url:        '/jpulse-examples/handlebars.shtml',
                    icon:       `{{components.jpIcons.handlebarsSvg size="24" _inline=true}}`
                },
                themes: {
                    label:      `{{i18n.view.navigation.site.jPulseExamples.themes}}`,
                    url:        '/jpulse-examples/themes.shtml',
                    icon:       `{{components.jpIcons.themesSvg size="24" _inline=true}}`
                },
                uiWidgets: {
                    label:      `{{i18n.view.navigation.site.jPulseExamples.uiWidgets}}`,
                    url:        '/jpulse-examples/ui-widgets.shtml',
                    icon:       `{{components.jpIcons.uiWidgetsSvg size="24" _inline=true}}`
                },
                layout: {
                    label:      `{{i18n.view.navigation.site.jPulseExamples.layout}}`,
                    url:        '/jpulse-examples/layout.shtml',
                    icon:       `{{components.jpIcons.layoutSvg size="24" _inline=true}}`
                },
                forms: {
                    label:      `{{i18n.view.navigation.site.jPulseExamples.forms}}`,
                    url:        '/jpulse-examples/forms.shtml',
                    icon:       `{{components.jpIcons.formsSvg size="24" _inline=true}}`
                },
            }
        },
        jPulsePlugins: {
            label:              `{{i18n.view.navigation.site.jPulsePlugins._index}}`,
            url:                '/jpulse-plugins/',
            icon:               `{{components.jpIcons.pluginSvg size="24" _inline=true}}`,
            pages: {
                overview: {
                    label:      `{{i18n.view.navigation.site.jPulsePlugins.overview}}`,
                    url:        '/jpulse-plugins/index.shtml',
                    icon:       `{{components.jpIcons.pluginSvg size="24" _inline=true}}`
                }
            }
        },
        {{#if file.exists "hello/index.shtml"}}
        siteHelloExamples: {
            label:              'Hello World Site Demos',
            url:                '/hello/',
            icon:               'üåê',
            pages: {
                overview: {
                    label:      'Overview',
                    url:        '/hello/index.shtml',
                    icon:       'üåê'
                },
                {{#if file.exists "hello/site-override.shtml"}}
                siteOverride: {
                    label:      'Site Override Example',
                    url:        '/hello/site-override.shtml',
                    icon:       `{{components.jpIcons.overrideSvg size="24" _inline=true}}`
                },
                {{/if}}
                {{#if file.exists "hello/site-development.shtml"}}
                siteDevelopment: {
                    label:      'Site Development Example',
                    url:        '/hello/site-development.shtml',
                    icon:       `{{components.jpIcons.trafficConeSvg size="24" _inline=true}}`
                },
                {{/if}}
                {{#if file.exists "hello-todo/index.shtml"}}
                helloTodo: {
                    label:      'To-Do MVC Demo',
                    url:        '/hello-todo/',
                    icon:       `{{components.jpIcons.todoSvg size="24" _inline=true}}`
                },
                {{/if}}
                {{#if file.exists "hello-vue/index.shtml"}}
                helloVue: {
                    label:      'Vue.js SPA Demo',
                    url:        '/hello-vue/',
                    icon:       `{{components.jpIcons.refreshDotSvg size="24" _inline=true}}`
                },
                {{/if}}
                {{#if file.exists "hello-websocket/index.shtml"}}
                helloWebsocket: {
                    label:      'WebSocket Real-time Demo',
                    url:        '/hello-websocket/',
                    icon:       `{{components.jpIcons.websocketSvg size="24" _inline=true}}`
                },
                {{/if}}
                {{#if file.exists "hello-app-cluster/index.shtml"}}
                helloAppCluster: {
                    label:      'App Cluster Demo',
                    url:        '/hello-app-cluster/',
                    icon:       `{{components.jpIcons.serversSvg size="24" _inline=true}}`
                },
                {{/if}}
            }
        },
        {{/if}}
    },

    // =======================================================
    // User Dropdown Navigation (on right side of header)
    // =======================================================
    user: {
      {{#if user.isAuthenticated}}
        label:              '{{user.initials}}',
        url:                '/user/',
        pages: {
            dashboard: {
                label:      `{{i18n.view.navigation.user.dashboard}}`,
                url:        '/user/'
            },
            profile: {
                label:      `{{i18n.view.navigation.user.profile}}`,
                url:        '/user/me'
            },
            settings: {
                label:      `{{i18n.view.navigation.user.settings}}`,
                url:        '/user/settings'
            },
            {{#if user.isAdmin}}
            admin: {
                label:      `{{i18n.view.navigation.user.admin}}`,
                url:        '/admin/'
            },
            {{/if}}
            logout: {
                label:      `{{i18n.view.navigation.user.logout}}`,
                url:        '/auth/logout.shtml'
            }
        }
      {{else}}
        label:              'üë§',
        url:                '/user/',
        pages: {
            dashboard: {
                label:      `{{i18n.view.navigation.user.dashboard}}`,
                url:        '/user/'
            },
            {{#unless appConfig.view.auth.hideLogin}}
            login: {
                label:      `{{i18n.view.navigation.user.login}}`,
                url:        '/auth/login.shtml'
            },
            {{/unless}}
            {{#unless appConfig.view.auth.hideSignup}}
            signup: {
                label:      `{{i18n.view.navigation.user.signup}}`,
                url:        '/auth/signup.shtml'
            },
            {{/unless}}
        }
      {{/if}}
    },

    // =======================================================
    // Tabs Navigation
    // =======================================================
    tabs: {
        jPulseDocsExamplesTabs: {
            tabs: [
                { id: 'jp-tab-docs', label: 'jPulse Documentation', url: '/jpulse-docs/' },
                { id: 'jp-tab-examples', label: 'jPulse Examples', url: '/jpulse-examples/' }
            ],
            linkActiveTab: true
        },
        jPulseExamplesSubTabs: {
            tabs: [
                { id: 'jp-tab-overview', label: 'Overview', url: '/jpulse-examples/' },
                { id: 'jp-tab-api-integration', label: 'API', url: '/jpulse-examples/api.shtml' },
                { id: 'jp-tab-handlebars', label: 'Handlebars', url: '/jpulse-examples/handlebars.shtml' },
                { id: 'jp-tab-themes', label: 'Themes', url: '/jpulse-examples/themes.shtml' },
                { id: 'jp-tab-ui-widgets', label: 'UI Widgets', url: '/jpulse-examples/ui-widgets.shtml' },
                { id: 'jp-tab-layout', label: 'Layout', url: '/jpulse-examples/layout.shtml' },
                { id: 'jp-tab-forms', label: 'Forms', url: '/jpulse-examples/forms.shtml' }
            ],
            linkActiveTab: true
        }
    }
};

// End webapp/view/jpulse-navigation.js
