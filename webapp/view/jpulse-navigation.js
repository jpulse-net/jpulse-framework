// Start webapp/view/jpulse-navigation.js
/*
 * @name            jPulse Framework / WebApp / View / Navigation Template
 * @tagline         Site navigation and multi-level navigation tabs definition
 * @file            webapp/view/jpulse-navigation.js
 * @version         1.3.11
 * @release         2025-12-08
 * @repository      https://github.com/jpulse-net/jpulse-framework
 * @author          Peter Thoeny, https://twiki.org & https://github.com/peterthoeny/
 * @copyright       2025 Peter Thoeny, https://twiki.org & https://github.com/peterthoeny/
 * @license         BSL 1.1 -- see LICENSE file; for commercial use: team@jpulse.net
 * @genai           60%, Cursor 2.0, Claude Sonnet 4.5
*/

/*
 * Reusable template for consistent navigation across the jPulse Framework.
 * This jPulseNavigation defines two types structures:
 * - jPulseNavigation.site -- site navigation structure, used by:
 *   - system navigation:
 *     - on desktop: hovering over app icon shows dropdown menu site structure
 *     - on mobile:  ‚ò∞ hamburger menu showing site structure
 *   - breadcrumbs: shows path to home from current page
 * - jPulseNavigation.tabs -- tabs navigation structures
 *
 * Do NOT edit this file. Use site/webapp/view/jpulse-navigation.js to override.
 * See docs/navigation-override-guide.md for more information, also available at:
 * https://jpulse.net/jpulse-docs/navigation-override-guide
*/

// Include SVG icon components - needed because this file is loaded as separate HTTP request
// Component registry is per-request, so components must be defined in THIS file's context
{{file.include "components/svg-icons.tmpl"}}

window.jPulseNavigation = {

    // =======================================================
    // Site Navigation: App Icon Dropdown Menu and Breadcrumbs
    // =======================================================
    site: {
        admin: {
            label:              `{{i18n.view.navigation.admin._index}}`,
            url:                '/admin/',
            role:               'admin',  // role-based visibility
            icon:               '‚öôÔ∏è',
            pages: {
                dashboard: {
                    label:      `{{i18n.view.navigation.admin.dashboard}}`,
                    url:        '/admin/',
                    icon:       '‚öôÔ∏è'
                },
                config: {
                    label:      `{{i18n.view.navigation.admin.config}}`,
                    url:        '/admin/config.shtml',
                    icon:       `{{components.jpIcons.configSvg size="24" _inline=true}}`
                },
                plugins: {
                    label:      `{{i18n.view.navigation.admin.plugins}}`,
                    url:        '/admin/plugins.shtml',
                    icon:       `{{components.jpIcons.pluginSvg size="24" _inline=true}}`,
                    pages: {
                        pluginConfig: {
                            label:      `{{i18n.view.navigation.admin.pluginConfig}}`,
                            url:        '/admin/plugin-config.shtml',
                            icon:       `{{components.jpIcons.configSvg size="24" _inline=true}}`
                        }
                    }
                },
                users: {
                    label:      `{{i18n.view.navigation.admin.users}}`,
                    url:        '/admin/users.shtml',
                    icon:       `{{components.jpIcons.usersSvg size="24" _inline=true}}`,
                    pages: {
                        userProfile: {
                            label:      `{{i18n.view.navigation.admin.userProfile}}`,
                            url:        '/admin/user-profile.shtml',
                            icon:       `{{components.jpIcons.userSvg size="24" _inline=true}}`
                        }
                    }
                },
                systemStatus: {
                    label:      `{{i18n.view.navigation.admin.systemStatus}}`,
                    url:        '/admin/system-status.shtml',
                    icon:       `{{components.jpIcons.systemStatusSvg size="24" _inline=true}}`
                },
                websocket: {
                    label:      `{{i18n.view.navigation.admin.websocket._index}}`,
                    url:        '/admin/websocket-status.shtml',
                    icon:       `{{components.jpIcons.websocketSvg size="24" _inline=true}}`,
                    pages: {
                        websocketStatus: {
                            label:    `{{i18n.view.navigation.admin.websocket.websocketStatus}}`,
                            url:      '/admin/websocket-status.shtml',
                            icon:     `{{components.jpIcons.websocketSvg size="24" _inline=true}}`
                        },
                        websocketTest: {
                            label:    `{{i18n.view.navigation.admin.websocket.websocketTest}}`,
                            url:      '/admin/websocket-test.shtml',
                            icon:     'üß™'
                        }
                    }
                },
                logs: {
                    label:      `{{i18n.view.navigation.admin.logs}}`,
                    url:        '/admin/logs.shtml',
                    icon:       `{{components.jpIcons.logsSvg size="24" _inline=true}}`
                }
            }
        },
        {{#unless user.isAuthenticated}}
            {{#if appConfig.view.auth.hideLogin}}
                {{#unless appConfig.view.auth.hideSignup}}
        auth: {
            label:              `{{i18n.view.navigation.auth.signup}}`,
            url:                '/auth/signup.shtml',
            icon:               'üîë',
        },
                {{/unless}}
            {{else}}
        auth: {
            label:              `{{i18n.view.navigation.auth._index}}`,
            url:                '/auth/login.shtml',
            icon:               'üîë',
            pages: {
                login: {
                    label:      `{{i18n.view.navigation.auth.login}}`,
                    url:        '/auth/login.shtml'
                },
                {{#unless appConfig.view.auth.hideSignup}}
                signup: {
                    label:      `{{i18n.view.navigation.auth.signup}}`,
                    url:        '/auth/signup.shtml'
                },
                {{/unless}}
            }
        },
            {{/if}}
        {{/unless}}
        {{#if user.isAuthenticated}}
        user: {
            label:              `{{i18n.view.navigation.user._index}}`,
            url:                '/user/',
            icon:               'üë§',
            pages: {
                overview: {
                    label:      `{{i18n.view.navigation.user.overview}}`,
                    url:        '/user/'
                },
                profile: {
                    label:      `{{i18n.view.navigation.user.profile}}`,
                    url:        '/user/profile.shtml'
                },
                auth: {
                    label:      `{{i18n.view.navigation.auth.logout}}`,
                    url:        '/auth/logout.shtml',
                    icon:       'üîë',
                },
            }
        },
        {{/if}}
        jPulseDocs: {
            label:              `{{i18n.view.navigation.jPulseDocs}}`,
            url:                '/jpulse-docs/',
            icon:               'üìñ',
            pages: {
                // Data load dynamically via jPulse.UI.navigation.registerPages()
            }
        },
        jPulseExamples: {
            label:              `{{i18n.view.navigation.jPulseExamples._index}}`,
            url:                '/jpulse-examples/',
            icon:               'üöÄ',
            pages: {
                overview: {
                    label:      `{{i18n.view.navigation.jPulseExamples.overview}}`,
                    url:        '/jpulse-examples/',
                    icon:       'üöÄ'
                },
                api: {
                    label:      `{{i18n.view.navigation.jPulseExamples.api}}`,
                    url:        '/jpulse-examples/api.shtml',
                    icon:       `{{components.jpIcons.apiSvg size="24" _inline=true}}`
                },
                handlebars: {
                    label:      `{{i18n.view.navigation.jPulseExamples.handlebars}}`,
                    url:        '/jpulse-examples/handlebars.shtml',
                    icon:       `{{components.jpIcons.handlebarsSvg size="24" _inline=true}}`
                },
                uiWidgets: {
                    label:      `{{i18n.view.navigation.jPulseExamples.uiWidgets}}`,
                    url:        '/jpulse-examples/ui-widgets.shtml',
                    icon:       `{{components.jpIcons.uiWidgetsSvg size="24" _inline=true}}`
                },
                layout: {
                    label:      `{{i18n.view.navigation.jPulseExamples.layout}}`,
                    url:        '/jpulse-examples/layout.shtml',
                    icon:       `{{components.jpIcons.layoutSvg size="24" _inline=true}}`
                },
                forms: {
                    label:      `{{i18n.view.navigation.jPulseExamples.forms}}`,
                    url:        '/jpulse-examples/forms.shtml',
                    icon:       `{{components.jpIcons.formsSvg size="24" _inline=true}}`
                },
            }
        },
        jPulsePlugins: {
            label:              `{{i18n.view.navigation.jPulsePlugins._index}}`,
            url:                '/jpulse-plugins/',
            icon:               `{{components.jpIcons.pluginSvg size="24" _inline=true}}`,
            pages: {
                overview: {
                    label:      `{{i18n.view.navigation.jPulsePlugins.overview}}`,
                    url:        '/jpulse-plugins/',
                    icon:       `{{components.jpIcons.pluginSvg size="24" _inline=true}}`
                }
            }
        },
        {{#if file.exists "hello/index.shtml"}}
        siteHelloExamples: {
            label:              'Hello World Site Demos',
            url:                '/hello/',
            icon:               'üåê',
            pages: {
                overview: {
                    label:      'Overview',
                    url:        '/hello/',
                    icon:       'üåê'
                },
                {{#if file.exists "hello/site-override.shtml"}}
                siteOverride: {
                    label:      'Site Override Example',
                    url:        '/hello/site-override.shtml',
                    icon:       `{{components.jpIcons.overrideSvg size="24" _inline=true}}`
                },
                {{/if}}
                {{#if file.exists "hello/site-development.shtml"}}
                siteDevelopment: {
                    label:      'Site Development Example',
                    url:        '/hello/site-development.shtml',
                    icon:       `{{components.jpIcons.trafficConeSvg size="24" _inline=true}}`
                },
                {{/if}}
                {{#if file.exists "hello-todo/index.shtml"}}
                helloTodo: {
                    label:      'To-Do MVC Demo',
                    url:        '/hello-todo/',
                    icon:       `{{components.jpIcons.todoSvg size="24" _inline=true}}`
                },
                {{/if}}
                {{#if file.exists "hello-vue/index.shtml"}}
                helloVue: {
                    label:      'Vue.js SPA Demo',
                    url:        '/hello-vue/',
                    icon:       `{{components.jpIcons.refreshDotSvg size="24" _inline=true}}`
                },
                {{/if}}
                {{#if file.exists "hello-websocket/index.shtml"}}
                helloWebsocket: {
                    label:      'WebSocket Real-time Demo',
                    url:        '/hello-websocket/',
                    icon:       `{{components.jpIcons.websocketSvg size="24" _inline=true}}`
                },
                {{/if}}
                {{#if file.exists "hello-app-cluster/index.shtml"}}
                helloAppCluster: {
                    label:      'App Cluster Demo',
                    url:        '/hello-app-cluster/',
                    icon:       `{{components.jpIcons.serversSvg size="24" _inline=true}}`
                },
                {{/if}}
            }
        },
        {{/if}}
    },

    // =======================================================
    // Tabs Navigation
    // =======================================================
    tabs: {
        jPulseDocsExamplesTabs: {
            tabs: [
                { id: 'jp-tab-docs', label: 'jPulse Documentation', url: '/jpulse-docs/' },
                { id: 'jp-tab-examples', label: 'jPulse Examples', url: '/jpulse-examples/' }
            ],
            linkActiveTab: true
        },
        jPulseExamplesSubTabs: {
            tabs: [
                { id: 'jp-tab-overview', label: 'Overview', url: '/jpulse-examples/' },
                { id: 'jp-tab-api-integration', label: 'API', url: '/jpulse-examples/api.shtml' },
                { id: 'jp-tab-handlebars', label: 'Handlebars', url: '/jpulse-examples/handlebars.shtml' },
                { id: 'jp-tab-ui-widgets', label: 'UI Widgets', url: '/jpulse-examples/ui-widgets.shtml' },
                { id: 'jp-tab-layout', label: 'Layout', url: '/jpulse-examples/layout.shtml' },
                { id: 'jp-tab-forms', label: 'Forms', url: '/jpulse-examples/forms.shtml' }
            ],
            linkActiveTab: true
        }
    }
};

// End webapp/view/jpulse-navigation.js
